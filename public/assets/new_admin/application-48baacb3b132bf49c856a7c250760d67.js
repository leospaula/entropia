var m=function t(e,n){function r(t){A=t.document,C=t.location,F=t.cancelAnimationFrame||t.clearTimeout,O=t.requestAnimationFrame||t.setTimeout}function o(){var t,e=[].slice.call(arguments),n=!(null==e[1]||N.call(e[1])!==j||"tag"in e[1]||"view"in e[1]||"subtree"in e[1]),r=n?e[1]:{},o="class"in r?"class":"className",i={tag:"div",attrs:{}},a=[];if(N.call(e[0])!=P)throw new Error("selector in m(selector, attrs, children) should be a string");for(;t=z.exec(e[0]);)if(""===t[1]&&t[2])i.tag=t[2];else if("#"===t[1])i.attrs.id=t[2];else if("."===t[1])a.push(t[2]);else if("["===t[3][0]){var s=L.exec(t[3]);i.attrs[s[1]]=s[3]||(s[2]?"":!0)}var u=e.slice(n?2:1);i.children=1===u.length&&N.call(u[0])===E?u[0]:u;for(var l in r)r.hasOwnProperty(l)&&(l===o&&null!=r[l]&&""!==r[l]?(a.push(r[l]),i.attrs[l]=""):i.attrs[l]=r[l]);return a.length>0&&(i.attrs[o]=a.join(" ")),i}function i(t,e,r,l,d,f,m,h,p,g,v){try{(null==d||null==d.toString())&&(d="")}catch(y){d=""}if("retain"===d.subtree)return f;var w=N.call(f),_=N.call(d);if(null==f||w!==_){if(null!=f)if(r&&r.nodes){var b=h-l,D=b+(_===E?d:f.nodes).length;u(r.nodes.slice(b,D),r.slice(b,D))}else f.nodes&&u(f.nodes,f);f=new d.constructor,f.tag&&(f={}),f.nodes=[]}if(_===E){for(var M=0,x=d.length;x>M;M++)N.call(d[M])===E&&(d=d.concat.apply([],d),M--,x=d.length);for(var k=[],Y=f.length===d.length,T=0,S=1,C=2,O=3,F={},z=!1,M=0;M<f.length;M++)f[M]&&f[M].attrs&&null!=f[M].attrs.key&&(z=!0,F[f[M].attrs.key]={action:S,index:M});for(var L=0,M=0,x=d.length;x>M;M++)if(d[M]&&d[M].attrs&&null!=d[M].attrs.key){for(var G=0,x=d.length;x>G;G++)d[G]&&d[G].attrs&&null==d[G].attrs.key&&(d[G].attrs.key="__mithril__"+L++);break}if(z){var W=!1;if(d.length!=f.length)W=!0;else for(var H,q,M=0;H=f[M],q=d[M];M++)if(H.attrs&&q.attrs&&H.attrs.key!=q.attrs.key){W=!0;break}if(W){for(var M=0,x=d.length;x>M;M++)if(d[M]&&d[M].attrs&&null!=d[M].attrs.key){var B=d[M].attrs.key;F[B]=F[B]?{action:O,index:M,from:F[B].index,element:f.nodes[F[B].index]||A.createElement("div")}:{action:C,index:M}}var $=[];for(var V in F)$.push(F[V]);var Z=$.sort(a),J=new Array(f.length);J.nodes=f.nodes.slice();for(var K,M=0;K=Z[M];M++){if(K.action===S&&(u(f[K.index].nodes,f[K.index]),J.splice(K.index,1)),K.action===C){var Q=A.createElement("div");Q.key=d[K.index].attrs.key,t.insertBefore(Q,t.childNodes[K.index]||null),J.splice(K.index,0,{attrs:{key:d[K.index].attrs.key},nodes:[Q]}),J.nodes[K.index]=Q}K.action===O&&(t.childNodes[K.index]!==K.element&&null!==K.element&&t.insertBefore(K.element,t.childNodes[K.index]||null),J[K.index]=f[K.from],J.nodes[K.index]=K.element)}f=J}}for(var M=0,X=0,x=d.length;x>M;M++){var ee=i(t,e,f,h,d[M],f[X],m,h+T||T,p,g,v);ee!==n&&(ee.nodes.intact||(Y=!1),T+=ee.$trusted?(ee.match(/<[^\/]|\>\s*[^<]/g)||[0]).length:N.call(ee)===E?ee.length:1,f[X++]=ee)}if(!Y){for(var M=0,x=d.length;x>M;M++)null!=f[M]&&k.push.apply(k,f[M].nodes);for(var ne,M=0;ne=f.nodes[M];M++)null!=ne.parentNode&&k.indexOf(ne)<0&&u([ne],[f[M]]);d.length<f.length&&(f.length=d.length),f.nodes=k}}else if(null!=d&&_===j){for(var oe=[],ie=[];d.view;){var ae=d.view.$original||d.view,se="diff"==o.redraw.strategy()&&f.views?f.views.indexOf(ae):-1,ue=se>-1?f.controllers[se]:new(d.controller||I),B=d&&d.attrs&&d.attrs.key;if(d=0==re||f&&f.controllers&&f.controllers.indexOf(ue)>-1?d.view(ue):{tag:"placeholder"},"retain"===d.subtree)return f;B&&(d.attrs||(d.attrs={}),d.attrs.key=B),ue.onunload&&te.push({controller:ue,handler:ue.onunload}),oe.push(ae),ie.push(ue)}if(!d.tag&&ie.length)throw new Error("Component template must return a virtual element, not an array, string, etc.");d.attrs||(d.attrs={}),f.attrs||(f.attrs={});var le=Object.keys(d.attrs),ce=le.length>("key"in d.attrs?1:0);if((d.tag!=f.tag||le.sort().join()!=Object.keys(f.attrs).sort().join()||d.attrs.id!=f.attrs.id||d.attrs.key!=f.attrs.key||"all"==o.redraw.strategy()&&(!f.configContext||f.configContext.retain!==!0)||"diff"==o.redraw.strategy()&&f.configContext&&f.configContext.retain===!1)&&(f.nodes.length&&u(f.nodes),f.configContext&&typeof f.configContext.onunload===R&&f.configContext.onunload(),f.controllers))for(var ue,M=0;ue=f.controllers[M];M++)typeof ue.onunload===R&&ue.onunload({preventDefault:I});if(N.call(d.tag)!=P)return;var ne,de=0===f.nodes.length;if(d.attrs.xmlns?g=d.attrs.xmlns:"svg"===d.tag?g="http://www.w3.org/2000/svg":"math"===d.tag&&(g="http://www.w3.org/1998/Math/MathML"),de){if(ne=d.attrs.is?g===n?A.createElement(d.tag,d.attrs.is):A.createElementNS(g,d.tag,d.attrs.is):g===n?A.createElement(d.tag):A.createElementNS(g,d.tag),f={tag:d.tag,attrs:ce?s(ne,d.tag,d.attrs,{},g):d.attrs,children:null!=d.children&&d.children.length>0?i(ne,d.tag,n,n,d.children,f.children,!0,0,d.attrs.contenteditable?ne:p,g,v):d.children,nodes:[ne]},ie.length){f.views=oe,f.controllers=ie;for(var ue,M=0;ue=ie[M];M++)if(ue.onunload&&ue.onunload.$old&&(ue.onunload=ue.onunload.$old),re&&ue.onunload){var fe=ue.onunload;ue.onunload=I,ue.onunload.$old=fe}}f.children&&!f.children.nodes&&(f.children.nodes=[]),"select"===d.tag&&"value"in d.attrs&&s(ne,d.tag,{value:d.attrs.value},{},g),t.insertBefore(ne,t.childNodes[h]||null)}else ne=f.nodes[0],ce&&s(ne,d.tag,d.attrs,f.attrs,g),f.children=i(ne,d.tag,n,n,d.children,f.children,!1,0,d.attrs.contenteditable?ne:p,g,v),f.nodes.intact=!0,ie.length&&(f.views=oe,f.controllers=ie),m===!0&&null!=ne&&t.insertBefore(ne,t.childNodes[h]||null);if(typeof d.attrs.config===R){var me=f.configContext=f.configContext||{},he=function(t,e){return function(){return t.attrs.config.apply(t,e)}};v.push(he(d,[ne,!de,me,f]))}}else if(typeof d!=R){var k;0===f.nodes.length?(d.$trusted?k=c(t,h,d):(k=[A.createTextNode(d)],t.nodeName.match(U)||t.insertBefore(k[0],t.childNodes[h]||null)),f="string number boolean".indexOf(typeof d)>-1?new d.constructor(d):d,f.nodes=k):f.valueOf()!==d.valueOf()||m===!0?(k=f.nodes,p&&p===A.activeElement||(d.$trusted?(u(k,f),k=c(t,h,d)):"textarea"===e?t.value=d:p?p.innerHTML=d:((1===k[0].nodeType||k.length>1)&&(u(f.nodes,f),k=[A.createTextNode(d)]),t.insertBefore(k[0],t.childNodes[h]||null),k[0].nodeValue=d)),f=new d.constructor(d),f.nodes=k):f.nodes.intact=!0}return f}function a(t,e){return t.action-e.action||t.index-e.index}function s(t,e,n,r,o){for(var i in n){var a=n[i],s=r[i];if(i in r&&s===a)"value"===i&&"input"===e&&t.value!=a&&(t.value=a);else{r[i]=a;try{if("config"===i||"key"==i)continue;if(typeof a===R&&0===i.indexOf("on"))t[i]=d(a,t);else if("style"===i&&null!=a&&N.call(a)===j){for(var u in a)(null==s||s[u]!==a[u])&&(t.style[u]=a[u]);for(var u in s)u in a||(t.style[u]="")}else null!=o?"href"===i?t.setAttributeNS("http://www.w3.org/1999/xlink","href",a):"className"===i?t.setAttribute("class",a):t.setAttribute(i,a):i in t&&"list"!==i&&"style"!==i&&"form"!==i&&"type"!==i&&"width"!==i&&"height"!==i?("input"!==e||t[i]!==a)&&(t[i]=a):t.setAttribute(i,a)}catch(l){if(l.message.indexOf("Invalid argument")<0)throw l}}}return r}function u(t,e){for(var n=t.length-1;n>-1;n--)if(t[n]&&t[n].parentNode){try{t[n].parentNode.removeChild(t[n])}catch(r){}e=[].concat(e),e[n]&&l(e[n])}0!=t.length&&(t.length=0)}function l(t){if(t.configContext&&typeof t.configContext.onunload===R&&(t.configContext.onunload(),t.configContext.onunload=null),t.controllers)for(var e,n=0;e=t.controllers[n];n++)typeof e.onunload===R&&e.onunload({preventDefault:I});if(t.children)if(N.call(t.children)===E)for(var r,n=0;r=t.children[n];n++)l(r);else t.children.tag&&l(t.children)}function c(t,e,n){var r=t.childNodes[e];if(r){var o=1!=r.nodeType,i=A.createElement("span");o?(t.insertBefore(i,r||null),i.insertAdjacentHTML("beforebegin",n),t.removeChild(i)):r.insertAdjacentHTML("beforebegin",n)}else t.insertAdjacentHTML("beforeend",n);for(var a=[];t.childNodes[e]!==r;)a.push(t.childNodes[e]),e++;return a}function d(t,e){return function(n){n=n||event,o.redraw.strategy("diff"),o.startComputation();try{return t.call(e,n)}finally{oe()}}}function f(t){var e=H.indexOf(t);return 0>e?H.push(t)-1:e}function m(t){var e=function(){return arguments.length&&(t=arguments[0]),t};return e.toJSON=function(){return t},e}function h(t,e){var n=function(){return(t.controller||I).apply(this,e)||this},r=function(n){return arguments.length>1&&(e=e.concat([].slice.call(arguments,1))),t.view.apply(t,e?[n].concat(e):[n])};r.$original=t.view;var o={controller:n,view:r};return e[0]&&null!=e[0].key&&(o.attrs={key:e[0].key}),o}function p(){Q&&(Q(),Q=null);for(var t,e=0;t=$[e];e++)if(Z[e]){var n=V[e].controller&&V[e].controller.$$args?[Z[e]].concat(V[e].controller.$$args):[Z[e]];o.render(t,V[e].view?V[e].view(Z[e],n):"")}X&&(X(),X=null),J=null,K=new Date,o.redraw.strategy("diff")}function g(t){return t.slice(se[o.route.mode].length)}function v(t,e,n){ie={};var r=n.indexOf("?");-1!==r&&(ie=b(n.substr(r+1,n.length)),n=n.substr(0,r));var i=Object.keys(e),a=i.indexOf(n);if(-1!==a)return o.mount(t,e[i[a]]),!0;for(var s in e){if(s===n)return o.mount(t,e[s]),!0;var u=new RegExp("^"+s.replace(/:[^\/]+?\.{3}/g,"(.*?)").replace(/:[^\/]+/g,"([^\\/]+)")+"/?$");if(u.test(n))return n.replace(u,function(){for(var n=s.match(/:[^\/]+/g)||[],r=[].slice.call(arguments,1,-2),i=0,a=n.length;a>i;i++)ie[n[i].replace(/:|\./g,"")]=decodeURIComponent(r[i]);o.mount(t,e[s])}),!0}}function y(t){if(t=t||event,!t.ctrlKey&&!t.metaKey&&2!==t.which){t.preventDefault?t.preventDefault():t.returnValue=!1;for(var e=t.currentTarget||t.srcElement,n="pathname"===o.route.mode&&e.search?b(e.search.slice(1)):{};e&&"A"!=e.nodeName.toUpperCase();)e=e.parentNode;o.route(e[o.route.mode].slice(se[o.route.mode].length),n)}}function w(){"hash"!=o.route.mode&&C.hash?C.hash=C.hash:e.scrollTo(0,0)}function _(t,e){var r={},o=[];for(var i in t){var a=e?e+"["+i+"]":i,s=t[i],u=N.call(s),l=null===s?encodeURIComponent(a):u===j?_(s,a):u===E?s.reduce(function(t,e){return r[a]||(r[a]={}),r[a][e]?t:(r[a][e]=!0,t.concat(encodeURIComponent(a)+"="+encodeURIComponent(e)))},[]).join("&"):encodeURIComponent(a)+"="+encodeURIComponent(s);s!==n&&o.push(l)}return o.join("&")}function b(t){"?"===t.charAt(0)&&(t=t.substring(1));for(var e=t.split("&"),n={},r=0,o=e.length;o>r;r++){var i=e[r].split("="),a=decodeURIComponent(i[0]),s=2==i.length?decodeURIComponent(i[1]):null;null!=n[a]?(N.call(n[a])!==E&&(n[a]=[n[a]]),n[a].push(s)):n[a]=s}return n}function D(t){var e=f(t);u(t.childNodes,q[e]),q[e]=n}function M(t,e){var n=o.prop(e);return t.then(n),n.then=function(n,r){return M(t.then(n,r),e)},n}function x(t,e){function n(t){d=t||l,m.map(function(t){d===u&&t.resolve(f)||t.reject(f)})}function r(t,e,n,r){if((null!=f&&N.call(f)===j||typeof f===R)&&typeof t===R)try{var i=0;t.call(f,function(t){i++||(f=t,e())},function(t){i++||(f=t,n())})}catch(a){o.deferred.onerror(a),f=a,n()}else r()}function i(){var l;try{l=f&&f.then}catch(m){return o.deferred.onerror(m),f=m,d=s,i()}r(l,function(){d=a,i()},function(){d=s,i()},function(){try{d===a&&typeof t===R?f=t(f):d===s&&"function"==typeof e&&(f=e(f),d=a)}catch(i){return o.deferred.onerror(i),f=i,n()}f===c?(f=TypeError(),n()):r(l,function(){n(u)},n,function(){n(d===a&&u)})})}var a=1,s=2,u=3,l=4,c=this,d=0,f=0,m=[];c.promise={},c.resolve=function(t){return d||(f=t,d=a,i()),this},c.reject=function(t){return d||(f=t,d=s,i()),this},c.promise.then=function(t,e){var n=new x(t,e);return d===u?n.resolve(f):d===l?n.reject(f):m.push(n),n.promise}}function k(t){return t}function Y(t){if(!t.dataType||"jsonp"!==t.dataType.toLowerCase()){var r=new e.XMLHttpRequest;if(r.open(t.method,t.url,!0,t.user,t.password),r.onreadystatechange=function(){4===r.readyState&&(r.status>=200&&r.status<300?t.onload({type:"load",target:r}):t.onerror({type:"error",target:r}))},t.serialize===JSON.stringify&&t.data&&"GET"!==t.method&&r.setRequestHeader("Content-Type","application/json; charset=utf-8"),t.deserialize===JSON.parse&&r.setRequestHeader("Accept","application/json, text/*"),typeof t.config===R){var o=t.config(r,t);null!=o&&(r=o)}var i="GET"!==t.method&&t.data?t.data:"";if(i&&N.call(i)!=P&&i.constructor!=e.FormData)throw"Request data should be either be a string or FormData. Check the `serialize` option in `m.request`";return r.send(i),r}var a="mithril_callback_"+(new Date).getTime()+"_"+Math.round(1e16*Math.random()).toString(36),s=A.createElement("script");e[a]=function(r){s.parentNode.removeChild(s),t.onload({type:"load",target:{responseText:r}}),e[a]=n},s.onerror=function(){return s.parentNode.removeChild(s),t.onerror({type:"error",target:{status:500,responseText:JSON.stringify({error:"Error making jsonp request"})}}),e[a]=n,!1},s.onload=function(){return!1},s.src=t.url+(t.url.indexOf("?")>0?"&":"?")+(t.callbackKey?t.callbackKey:"callback")+"="+a+"&"+_(t.data||{}),A.body.appendChild(s)}function T(t,e,n){if("GET"===t.method&&"jsonp"!=t.dataType){var r=t.url.indexOf("?")<0?"?":"&",o=_(e);t.url=t.url+(o?r+o:"")}else t.data=n(e);return t}function S(t,e){var n=t.match(/:[a-z]\w+/gi);if(n&&e)for(var r=0;r<n.length;r++){var o=n[r].slice(1);t=t.replace(n[r],e[o]),delete e[o]}return t}var A,C,O,F,j="[object Object]",E="[object Array]",P="[object String]",R="function",N={}.toString,z=/(?:(^|#|\.)([^#\.\[\]]+))|(\[.+?\])/g,L=/\[(.+?)(?:=("|'|)(.*?)\2)?\]/,U=/^(AREA|BASE|BR|COL|COMMAND|EMBED|HR|IMG|INPUT|KEYGEN|LINK|META|PARAM|SOURCE|TRACK|WBR)$/,I=function(){};r(e);var G,W={appendChild:function(t){G===n&&(G=A.createElement("html")),A.documentElement&&A.documentElement!==t?A.replaceChild(t,A.documentElement):A.appendChild(t),this.childNodes=A.childNodes},insertBefore:function(t){this.appendChild(t)},childNodes:[]},H=[],q={};o.render=function(t,e,r){var o=[];if(!t)throw new Error("Ensure the DOM element being passed to m.route/m.mount/m.render is not undefined.");var a=f(t),s=t===A,l=s||t===A.documentElement?W:t;s&&"html"!=e.tag&&(e={tag:"html",attrs:{},children:e}),q[a]===n&&u(l.childNodes),r===!0&&D(t),q[a]=i(l,null,n,n,e,q[a],!1,0,null,n,o);for(var c=0,d=o.length;d>c;c++)o[c]()},o.trust=function(t){return t=new String(t),t.$trusted=!0,t},o.prop=function(t){return(null!=t&&N.call(t)===j||typeof t===R)&&typeof t.then===R?M(t):m(t)};var B,$=[],V=[],Z=[],J=null,K=0,Q=null,X=null,te=[],ee=16;o.component=function(t){return h(t,[].slice.call(arguments,1))},o.mount=o.module=function(t,e){if(!t)throw new Error("Please ensure the DOM element exists before rendering a template into it.");var n=$.indexOf(t);0>n&&(n=$.length);for(var r,i=!1,a={preventDefault:function(){i=!0,Q=X=null}},s=0;r=te[s];s++)r.handler.call(r.controller,a),r.controller.onunload=null;if(i)for(var r,s=0;r=te[s];s++)r.controller.onunload=r.handler;else te=[];if(Z[n]&&typeof Z[n].onunload===R&&Z[n].onunload(a),!i){o.redraw.strategy("all"),o.startComputation(),$[n]=t,arguments.length>2&&(e=subcomponent(e,[].slice.call(arguments,2)));var u=B=e=e||{controller:function(){}},l=e.controller||I,c=new l;return u===B&&(Z[n]=c,V[n]=e),oe(),Z[n]}};var ne=!1;o.redraw=function(t){ne||(ne=!0,J&&t!==!0?(O===e.requestAnimationFrame||new Date-K>ee)&&(J>0&&F(J),J=O(p,ee)):(p(),J=O(function(){J=null},ee)),ne=!1)},o.redraw.strategy=o.prop();var re=0;o.startComputation=function(){re++},o.endComputation=function(){re=Math.max(re-1,0),0===re&&o.redraw()};var oe=function(){"none"==o.redraw.strategy()?(re--,o.redraw.strategy("diff")):o.endComputation()};o.withAttr=function(t,e){return function(n){n=n||event;var r=n.currentTarget||this;e(t in r?r[t]:r.getAttribute(t))}};var ie,ae,se={pathname:"",hash:"#",search:"?"},ue=I,le=!1;return o.route=function(){if(0===arguments.length)return ae;if(3===arguments.length&&N.call(arguments[1])===P){var t=arguments[0],n=arguments[1],r=arguments[2];ue=function(e){var i=ae=g(e);if(!v(t,r,i)){if(le)throw new Error("Ensure the default route matches one of the routes defined in m.route");le=!0,o.route(n,!0),le=!1}};var i="hash"===o.route.mode?"onhashchange":"onpopstate";e[i]=function(){var t=C[o.route.mode];"pathname"===o.route.mode&&(t+=C.search),ae!=g(t)&&ue(t)},Q=w,e[i]()}else if(arguments[0].addEventListener||arguments[0].attachEvent){var a=arguments[0],s=(arguments[1],arguments[2],arguments[3]);a.href=("pathname"!==o.route.mode?C.pathname:"")+se[o.route.mode]+s.attrs.href,a.addEventListener?(a.removeEventListener("click",y),a.addEventListener("click",y)):(a.detachEvent("onclick",y),a.attachEvent("onclick",y))}else if(N.call(arguments[0])===P){var u=ae;ae=arguments[0];var l=arguments[1]||{},c=ae.indexOf("?"),d=c>-1?b(ae.slice(c+1)):{};for(var f in l)d[f]=l[f];var m=_(d),h=c>-1?ae.slice(0,c):ae;m&&(ae=h+(-1===h.indexOf("?")?"?":"&")+m);var p=(3===arguments.length?arguments[2]:arguments[1])===!0||u===arguments[0];e.history.pushState?(Q=w,X=function(){e.history[p?"replaceState":"pushState"](null,A.title,se[o.route.mode]+ae)},ue(se[o.route.mode]+ae)):(C[o.route.mode]=ae,ue(se[o.route.mode]+ae))}},o.route.param=function(t){if(!ie)throw new Error("You must call m.route(element, defaultRoute, routes) before calling m.route.param()");return ie[t]},o.route.mode="search",o.route.buildQueryString=_,o.route.parseQueryString=b,o.deferred=function(){var t=new x;return t.promise=M(t.promise),t},o.deferred.onerror=function(t){if("[object Error]"===N.call(t)&&!t.constructor.toString().match(/ Error/))throw t},o.sync=function(t){function e(t,e){return function(o){return a[t]=o,e||(n="reject"),0===--i&&(r.promise(a),r[n](a)),o}}var n="resolve",r=o.deferred(),i=t.length,a=new Array(i);if(t.length>0)for(var s=0;s<t.length;s++)t[s].then(e(s,!0),e(s,!1));else r.resolve([]);return r.promise},o.request=function(t){t.background!==!0&&o.startComputation();var e=new x,n=t.dataType&&"jsonp"===t.dataType.toLowerCase(),r=t.serialize=n?k:t.serialize||JSON.stringify,i=t.deserialize=n?k:t.deserialize||JSON.parse,a=n?function(t){return t.responseText}:t.extract||function(t){return 0===t.responseText.length&&i===JSON.parse?null:t.responseText};return t.method=(t.method||"GET").toUpperCase(),t.url=S(t.url,t.data),t=T(t,t.data,r),t.onload=t.onerror=function(n){try{n=n||event;var r=("load"===n.type?t.unwrapSuccess:t.unwrapError)||k,s=r(i(a(n.target,t)),n.target);if("load"===n.type)if(N.call(s)===E&&t.type)for(var u=0;u<s.length;u++)s[u]=new t.type(s[u]);else t.type&&(s=new t.type(s));e["load"===n.type?"resolve":"reject"](s)}catch(n){o.deferred.onerror(n),e.reject(n)}t.background!==!0&&o.endComputation()},Y(t),e.promise=M(e.promise,t.initialValue),e.promise},o.deps=function(t){return r(e=t||e),e},o.deps.factory=t,o}("undefined"!=typeof window?window:{});"undefined"!=typeof module&&null!==module&&module.exports?module.exports=m:"function"==typeof define&&define.amd&&define(function(){return m}),function(){function t(t){function e(e,n,r,o,i,a){for(;i>=0&&a>i;i+=t){var s=o?o[i]:i;r=n(r,e[s],s,e)}return r}return function(n,r,o,i){r=w(r,i,4);var a=!Y(n)&&y.keys(n),s=(a||n).length,u=t>0?0:s-1;return arguments.length<3&&(o=n[a?a[u]:u],u+=t),e(n,r,o,a,u,s)}}function e(t){return function(e,n,r){n=_(n,r);for(var o=k(e),i=t>0?0:o-1;i>=0&&o>i;i+=t)if(n(e[i],i,e))return i;return-1}}function n(t,e,n){return function(r,o,i){var a=0,s=k(r);if("number"==typeof i)t>0?a=i>=0?i:Math.max(i+s,a):s=i>=0?Math.min(i+1,s):i+s+1;else if(n&&i&&s)return i=n(r,o),r[i]===o?i:-1;if(o!==o)return i=e(c.call(r,a,s),y.isNaN),i>=0?i+a:-1;for(i=t>0?a:s-1;i>=0&&s>i;i+=t)if(r[i]===o)return i;return-1}}function r(t,e){var n=O.length,r=t.constructor,o=y.isFunction(r)&&r.prototype||s,i="constructor";for(y.has(t,i)&&!y.contains(e,i)&&e.push(i);n--;)i=O[n],i in t&&t[i]!==o[i]&&!y.contains(e,i)&&e.push(i)}var o=this,i=o._,a=Array.prototype,s=Object.prototype,u=Function.prototype,l=a.push,c=a.slice,d=s.toString,f=s.hasOwnProperty,m=Array.isArray,h=Object.keys,p=u.bind,g=Object.create,v=function(){},y=function(t){return t instanceof y?t:this instanceof y?void(this._wrapped=t):new y(t)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=y),exports._=y):o._=y,y.VERSION="1.8.3";var w=function(t,e,n){if(void 0===e)return t;switch(null==n?3:n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,o){return t.call(e,n,r,o)};case 4:return function(n,r,o,i){return t.call(e,n,r,o,i)}}return function(){return t.apply(e,arguments)}},_=function(t,e,n){return null==t?y.identity:y.isFunction(t)?w(t,e,n):y.isObject(t)?y.matcher(t):y.property(t)};y.iteratee=function(t,e){return _(t,e,1/0)};var b=function(t,e){return function(n){var r=arguments.length;if(2>r||null==n)return n;for(var o=1;r>o;o++)for(var i=arguments[o],a=t(i),s=a.length,u=0;s>u;u++){var l=a[u];e&&void 0!==n[l]||(n[l]=i[l])}return n}},D=function(t){if(!y.isObject(t))return{};if(g)return g(t);v.prototype=t;var e=new v;return v.prototype=null,e},M=function(t){return function(e){return null==e?void 0:e[t]}},x=Math.pow(2,53)-1,k=M("length"),Y=function(t){var e=k(t);return"number"==typeof e&&e>=0&&x>=e};y.each=y.forEach=function(t,e,n){e=w(e,n);var r,o;if(Y(t))for(r=0,o=t.length;o>r;r++)e(t[r],r,t);else{var i=y.keys(t);for(r=0,o=i.length;o>r;r++)e(t[i[r]],i[r],t)}return t},y.map=y.collect=function(t,e,n){e=_(e,n);for(var r=!Y(t)&&y.keys(t),o=(r||t).length,i=Array(o),a=0;o>a;a++){var s=r?r[a]:a;i[a]=e(t[s],s,t)}return i},y.reduce=y.foldl=y.inject=t(1),y.reduceRight=y.foldr=t(-1),y.find=y.detect=function(t,e,n){var r;return r=Y(t)?y.findIndex(t,e,n):y.findKey(t,e,n),void 0!==r&&-1!==r?t[r]:void 0},y.filter=y.select=function(t,e,n){var r=[];return e=_(e,n),y.each(t,function(t,n,o){e(t,n,o)&&r.push(t)}),r},y.reject=function(t,e,n){return y.filter(t,y.negate(_(e)),n)},y.every=y.all=function(t,e,n){e=_(e,n);for(var r=!Y(t)&&y.keys(t),o=(r||t).length,i=0;o>i;i++){var a=r?r[i]:i;if(!e(t[a],a,t))return!1}return!0},y.some=y.any=function(t,e,n){e=_(e,n);for(var r=!Y(t)&&y.keys(t),o=(r||t).length,i=0;o>i;i++){var a=r?r[i]:i;if(e(t[a],a,t))return!0}return!1},y.contains=y.includes=y.include=function(t,e,n,r){return Y(t)||(t=y.values(t)),("number"!=typeof n||r)&&(n=0),y.indexOf(t,e,n)>=0},y.invoke=function(t,e){var n=c.call(arguments,2),r=y.isFunction(e);return y.map(t,function(t){var o=r?e:t[e];return null==o?o:o.apply(t,n)})},y.pluck=function(t,e){return y.map(t,y.property(e))},y.where=function(t,e){return y.filter(t,y.matcher(e))},y.findWhere=function(t,e){return y.find(t,y.matcher(e))},y.max=function(t,e,n){var r,o,i=-1/0,a=-1/0;if(null==e&&null!=t){t=Y(t)?t:y.values(t);for(var s=0,u=t.length;u>s;s++)r=t[s],r>i&&(i=r)}else e=_(e,n),y.each(t,function(t,n,r){o=e(t,n,r),(o>a||o===-1/0&&i===-1/0)&&(i=t,a=o)});return i},y.min=function(t,e,n){var r,o,i=1/0,a=1/0;if(null==e&&null!=t){t=Y(t)?t:y.values(t);for(var s=0,u=t.length;u>s;s++)r=t[s],i>r&&(i=r)}else e=_(e,n),y.each(t,function(t,n,r){o=e(t,n,r),(a>o||1/0===o&&1/0===i)&&(i=t,a=o)});return i},y.shuffle=function(t){for(var e,n=Y(t)?t:y.values(t),r=n.length,o=Array(r),i=0;r>i;i++)e=y.random(0,i),e!==i&&(o[i]=o[e]),o[e]=n[i];return o},y.sample=function(t,e,n){return null==e||n?(Y(t)||(t=y.values(t)),t[y.random(t.length-1)]):y.shuffle(t).slice(0,Math.max(0,e))},y.sortBy=function(t,e,n){return e=_(e,n),y.pluck(y.map(t,function(t,n,r){return{value:t,index:n,criteria:e(t,n,r)}}).sort(function(t,e){var n=t.criteria,r=e.criteria;if(n!==r){if(n>r||void 0===n)return 1;if(r>n||void 0===r)return-1}return t.index-e.index}),"value")};var T=function(t){return function(e,n,r){var o={};return n=_(n,r),y.each(e,function(r,i){var a=n(r,i,e);t(o,r,a)}),o}};y.groupBy=T(function(t,e,n){y.has(t,n)?t[n].push(e):t[n]=[e]}),y.indexBy=T(function(t,e,n){t[n]=e}),y.countBy=T(function(t,e,n){y.has(t,n)?t[n]++:t[n]=1}),y.toArray=function(t){return t?y.isArray(t)?c.call(t):Y(t)?y.map(t,y.identity):y.values(t):[]},y.size=function(t){return null==t?0:Y(t)?t.length:y.keys(t).length},y.partition=function(t,e,n){e=_(e,n);var r=[],o=[];return y.each(t,function(t,n,i){(e(t,n,i)?r:o).push(t)}),[r,o]},y.first=y.head=y.take=function(t,e,n){return null==t?void 0:null==e||n?t[0]:y.initial(t,t.length-e)},y.initial=function(t,e,n){return c.call(t,0,Math.max(0,t.length-(null==e||n?1:e)))},y.last=function(t,e,n){return null==t?void 0:null==e||n?t[t.length-1]:y.rest(t,Math.max(0,t.length-e))},y.rest=y.tail=y.drop=function(t,e,n){return c.call(t,null==e||n?1:e)},y.compact=function(t){return y.filter(t,y.identity)};var S=function(t,e,n,r){for(var o=[],i=0,a=r||0,s=k(t);s>a;a++){var u=t[a];if(Y(u)&&(y.isArray(u)||y.isArguments(u))){e||(u=S(u,e,n));var l=0,c=u.length;for(o.length+=c;c>l;)o[i++]=u[l++]}else n||(o[i++]=u)}return o};y.flatten=function(t,e){return S(t,e,!1)},y.without=function(t){return y.difference(t,c.call(arguments,1))},y.uniq=y.unique=function(t,e,n,r){y.isBoolean(e)||(r=n,n=e,e=!1),null!=n&&(n=_(n,r));for(var o=[],i=[],a=0,s=k(t);s>a;a++){var u=t[a],l=n?n(u,a,t):u;e?(a&&i===l||o.push(u),i=l):n?y.contains(i,l)||(i.push(l),o.push(u)):y.contains(o,u)||o.push(u)}return o},y.union=function(){return y.uniq(S(arguments,!0,!0))},y.intersection=function(t){for(var e=[],n=arguments.length,r=0,o=k(t);o>r;r++){var i=t[r];if(!y.contains(e,i)){for(var a=1;n>a&&y.contains(arguments[a],i);a++);a===n&&e.push(i)}}return e},y.difference=function(t){var e=S(arguments,!0,!0,1);return y.filter(t,function(t){return!y.contains(e,t)})},y.zip=function(){return y.unzip(arguments)},y.unzip=function(t){for(var e=t&&y.max(t,k).length||0,n=Array(e),r=0;e>r;r++)n[r]=y.pluck(t,r);return n},y.object=function(t,e){for(var n={},r=0,o=k(t);o>r;r++)e?n[t[r]]=e[r]:n[t[r][0]]=t[r][1];return n},y.findIndex=e(1),y.findLastIndex=e(-1),y.sortedIndex=function(t,e,n,r){n=_(n,r,1);for(var o=n(e),i=0,a=k(t);a>i;){var s=Math.floor((i+a)/2);n(t[s])<o?i=s+1:a=s}return i},y.indexOf=n(1,y.findIndex,y.sortedIndex),y.lastIndexOf=n(-1,y.findLastIndex),y.range=function(t,e,n){null==e&&(e=t||0,t=0),n=n||1;for(var r=Math.max(Math.ceil((e-t)/n),0),o=Array(r),i=0;r>i;i++,t+=n)o[i]=t;return o};var A=function(t,e,n,r,o){if(!(r instanceof e))return t.apply(n,o);var i=D(t.prototype),a=t.apply(i,o);return y.isObject(a)?a:i};y.bind=function(t,e){if(p&&t.bind===p)return p.apply(t,c.call(arguments,1));if(!y.isFunction(t))throw new TypeError("Bind must be called on a function");var n=c.call(arguments,2),r=function(){return A(t,r,e,this,n.concat(c.call(arguments)))};return r},y.partial=function(t){var e=c.call(arguments,1),n=function(){for(var r=0,o=e.length,i=Array(o),a=0;o>a;a++)i[a]=e[a]===y?arguments[r++]:e[a];for(;r<arguments.length;)i.push(arguments[r++]);return A(t,n,this,this,i)};return n},y.bindAll=function(t){var e,n,r=arguments.length;if(1>=r)throw new Error("bindAll must be passed function names");for(e=1;r>e;e++)n=arguments[e],t[n]=y.bind(t[n],t);return t},y.memoize=function(t,e){var n=function(r){var o=n.cache,i=""+(e?e.apply(this,arguments):r);return y.has(o,i)||(o[i]=t.apply(this,arguments)),o[i]};return n.cache={},n},y.delay=function(t,e){var n=c.call(arguments,2);return setTimeout(function(){return t.apply(null,n)},e)},y.defer=y.partial(y.delay,y,1),y.throttle=function(t,e,n){var r,o,i,a=null,s=0;n||(n={});var u=function(){s=n.leading===!1?0:y.now(),a=null,i=t.apply(r,o),a||(r=o=null)};return function(){var l=y.now();s||n.leading!==!1||(s=l);var c=e-(l-s);return r=this,o=arguments,0>=c||c>e?(a&&(clearTimeout(a),a=null),s=l,i=t.apply(r,o),a||(r=o=null)):a||n.trailing===!1||(a=setTimeout(u,c)),i}},y.debounce=function(t,e,n){var r,o,i,a,s,u=function(){var l=y.now()-a;e>l&&l>=0?r=setTimeout(u,e-l):(r=null,n||(s=t.apply(i,o),r||(i=o=null)))};return function(){i=this,o=arguments,a=y.now();var l=n&&!r;return r||(r=setTimeout(u,e)),l&&(s=t.apply(i,o),i=o=null),s}},y.wrap=function(t,e){return y.partial(e,t)},y.negate=function(t){return function(){return!t.apply(this,arguments)}},y.compose=function(){var t=arguments,e=t.length-1;return function(){for(var n=e,r=t[e].apply(this,arguments);n--;)r=t[n].call(this,r);return r}},y.after=function(t,e){return function(){return--t<1?e.apply(this,arguments):void 0}},y.before=function(t,e){var n;return function(){return--t>0&&(n=e.apply(this,arguments)),1>=t&&(e=null),n}},y.once=y.partial(y.before,2);var C=!{toString:null}.propertyIsEnumerable("toString"),O=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];y.keys=function(t){if(!y.isObject(t))return[];if(h)return h(t);var e=[];for(var n in t)y.has(t,n)&&e.push(n);return C&&r(t,e),e},y.allKeys=function(t){if(!y.isObject(t))return[];var e=[];for(var n in t)e.push(n);return C&&r(t,e),e},y.values=function(t){for(var e=y.keys(t),n=e.length,r=Array(n),o=0;n>o;o++)r[o]=t[e[o]];return r},y.mapObject=function(t,e,n){e=_(e,n);for(var r,o=y.keys(t),i=o.length,a={},s=0;i>s;s++)r=o[s],a[r]=e(t[r],r,t);return a},y.pairs=function(t){for(var e=y.keys(t),n=e.length,r=Array(n),o=0;n>o;o++)r[o]=[e[o],t[e[o]]];return r},y.invert=function(t){for(var e={},n=y.keys(t),r=0,o=n.length;o>r;r++)e[t[n[r]]]=n[r];return e},y.functions=y.methods=function(t){var e=[];for(var n in t)y.isFunction(t[n])&&e.push(n);return e.sort()},y.extend=b(y.allKeys),y.extendOwn=y.assign=b(y.keys),y.findKey=function(t,e,n){e=_(e,n);for(var r,o=y.keys(t),i=0,a=o.length;a>i;i++)if(r=o[i],e(t[r],r,t))return r},y.pick=function(t,e,n){var r,o,i={},a=t;if(null==a)return i;y.isFunction(e)?(o=y.allKeys(a),r=w(e,n)):(o=S(arguments,!1,!1,1),r=function(t,e,n){return e in n},a=Object(a));for(var s=0,u=o.length;u>s;s++){var l=o[s],c=a[l];r(c,l,a)&&(i[l]=c)}return i},y.omit=function(t,e,n){if(y.isFunction(e))e=y.negate(e);else{var r=y.map(S(arguments,!1,!1,1),String);e=function(t,e){return!y.contains(r,e)}}return y.pick(t,e,n)},y.defaults=b(y.allKeys,!0),y.create=function(t,e){var n=D(t);return e&&y.extendOwn(n,e),n},y.clone=function(t){return y.isObject(t)?y.isArray(t)?t.slice():y.extend({},t):t},y.tap=function(t,e){return e(t),t},y.isMatch=function(t,e){var n=y.keys(e),r=n.length;if(null==t)return!r;for(var o=Object(t),i=0;r>i;i++){var a=n[i];if(e[a]!==o[a]||!(a in o))return!1}return!0};var F=function(t,e,n,r){if(t===e)return 0!==t||1/t===1/e;if(null==t||null==e)return t===e;t instanceof y&&(t=t._wrapped),e instanceof y&&(e=e._wrapped);var o=d.call(t);if(o!==d.call(e))return!1;switch(o){case"[object RegExp]":case"[object String]":return""+t==""+e;case"[object Number]":return+t!==+t?+e!==+e:0===+t?1/+t===1/e:+t===+e;case"[object Date]":case"[object Boolean]":return+t===+e}var i="[object Array]"===o;if(!i){if("object"!=typeof t||"object"!=typeof e)return!1;var a=t.constructor,s=e.constructor;if(a!==s&&!(y.isFunction(a)&&a instanceof a&&y.isFunction(s)&&s instanceof s)&&"constructor"in t&&"constructor"in e)return!1}n=n||[],r=r||[];for(var u=n.length;u--;)if(n[u]===t)return r[u]===e;if(n.push(t),r.push(e),i){if(u=t.length,u!==e.length)return!1;for(;u--;)if(!F(t[u],e[u],n,r))return!1}else{var l,c=y.keys(t);if(u=c.length,y.keys(e).length!==u)return!1;for(;u--;)if(l=c[u],!y.has(e,l)||!F(t[l],e[l],n,r))return!1}return n.pop(),r.pop(),!0};y.isEqual=function(t,e){return F(t,e)},y.isEmpty=function(t){return null==t?!0:Y(t)&&(y.isArray(t)||y.isString(t)||y.isArguments(t))?0===t.length:0===y.keys(t).length},y.isElement=function(t){return!(!t||1!==t.nodeType)},y.isArray=m||function(t){return"[object Array]"===d.call(t)},y.isObject=function(t){var e=typeof t;return"function"===e||"object"===e&&!!t},y.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(t){y["is"+t]=function(e){return d.call(e)==="[object "+t+"]"}}),y.isArguments(arguments)||(y.isArguments=function(t){return y.has(t,"callee")}),"function"!=typeof/./&&"object"!=typeof Int8Array&&(y.isFunction=function(t){return"function"==typeof t||!1}),y.isFinite=function(t){return isFinite(t)&&!isNaN(parseFloat(t))},y.isNaN=function(t){return y.isNumber(t)&&t!==+t},y.isBoolean=function(t){return t===!0||t===!1||"[object Boolean]"===d.call(t)},y.isNull=function(t){return null===t},y.isUndefined=function(t){return void 0===t},y.has=function(t,e){return null!=t&&f.call(t,e)},y.noConflict=function(){return o._=i,this},y.identity=function(t){return t},y.constant=function(t){return function(){return t}},y.noop=function(){},y.property=M,y.propertyOf=function(t){return null==t?function(){}:function(e){return t[e]}},y.matcher=y.matches=function(t){return t=y.extendOwn({},t),function(e){return y.isMatch(e,t)}},y.times=function(t,e,n){var r=Array(Math.max(0,t));e=w(e,n,1);for(var o=0;t>o;o++)r[o]=e(o);return r},y.random=function(t,e){return null==e&&(e=t,t=0),t+Math.floor(Math.random()*(e-t+1))},y.now=Date.now||function(){return(new Date).getTime()};var j={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},E=y.invert(j),P=function(t){var e=function(e){return t[e]},n="(?:"+y.keys(t).join("|")+")",r=RegExp(n),o=RegExp(n,"g");return function(t){return t=null==t?"":""+t,r.test(t)?t.replace(o,e):t}};y.escape=P(j),y.unescape=P(E),y.result=function(t,e,n){var r=null==t?void 0:t[e];return void 0===r&&(r=n),y.isFunction(r)?r.call(t):r};var R=0;y.uniqueId=function(t){var e=++R+"";return t?t+e:e},y.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};
var N=/(.)^/,z={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},L=/\\|'|\r|\n|\u2028|\u2029/g,U=function(t){return"\\"+z[t]};y.template=function(t,e,n){!e&&n&&(e=n),e=y.defaults({},e,y.templateSettings);var r=RegExp([(e.escape||N).source,(e.interpolate||N).source,(e.evaluate||N).source].join("|")+"|$","g"),o=0,i="__p+='";t.replace(r,function(e,n,r,a,s){return i+=t.slice(o,s).replace(L,U),o=s+e.length,n?i+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":r?i+="'+\n((__t=("+r+"))==null?'':__t)+\n'":a&&(i+="';\n"+a+"\n__p+='"),e}),i+="';\n",e.variable||(i="with(obj||{}){\n"+i+"}\n"),i="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+i+"return __p;\n";try{var a=new Function(e.variable||"obj","_",i)}catch(s){throw s.source=i,s}var u=function(t){return a.call(this,t,y)},l=e.variable||"obj";return u.source="function("+l+"){\n"+i+"}",u},y.chain=function(t){var e=y(t);return e._chain=!0,e};var I=function(t,e){return t._chain?y(e).chain():e};y.mixin=function(t){y.each(y.functions(t),function(e){var n=y[e]=t[e];y.prototype[e]=function(){var t=[this._wrapped];return l.apply(t,arguments),I(this,n.apply(y,t))}})},y.mixin(y),y.each(["pop","push","reverse","shift","sort","splice","unshift"],function(t){var e=a[t];y.prototype[t]=function(){var n=this._wrapped;return e.apply(n,arguments),"shift"!==t&&"splice"!==t||0!==n.length||delete n[0],I(this,n)}}),y.each(["concat","join","slice"],function(t){var e=a[t];y.prototype[t]=function(){return I(this,e.apply(this._wrapped,arguments))}}),y.prototype.value=function(){return this._wrapped},y.prototype.valueOf=y.prototype.toJSON=y.prototype.value,y.prototype.toString=function(){return""+this._wrapped},"function"==typeof define&&define.amd&&define("underscore",[],function(){return y})}.call(this),!function(t){"object"==typeof exports?t(require("mithril"),require("underscore"),require("node-localstorage")):t(m,_,localStorage)}(function(t,e,n){var r={},o=function(t){return t.setRequestHeader("Authorization","Bearer "+i()),t},i=function(t){return t?n.setItem("postgrest.token",t):n.getItem("postgrest.token")};r.reset=function(){n.removeItem("postgrest.token")},r.paginationVM=function(n,r){var o=t.prop([]),i=r||"id.desc",a=t.prop({order:i}),s=t.prop(!1),u=t.prop(1),l=t.prop(),c=function(){var r=t.deferred(),i=function(t){if(!t||0===t.status)return JSON.stringify({hint:null,details:null,code:0,message:"Connection error"});var n=t.getResponseHeader("Content-Range");return e.isString(n)&&n.split("/").length>1&&l(parseInt(n.split("/")[1])),t.responseText};return s(!0),t.redraw(),t.startComputation(),n(u(),a(),{extract:i}).then(function(n){o(e.union(o(),n)),s(!1),r.resolve(o()),t.endComputation()},function(e){s(!1),l(0),t.endComputation(),r.reject(e)}),r.promise},d=function(t){return a(e.extend({order:i},t)),o([]),u(1),c()},f=function(){return u(u()+1),c()};return{collection:o,filter:d,isLoading:s,nextPage:f,total:l}},r.filtersVM=function(n){var r=function(){var e=t.prop("");return e.toFilter=function(){return e()},e},o=e.reduce(n,function(t,e,n){return t[n]="between"===e?{lte:r(),gte:r()}:r(),t},{order:t.prop()}),i=function(){var t=function(){return o.order()&&e.reduce(o.order(),function(t,e,n){return t.push(n+"."+e),t},[]).join(",")};return e.reduce(o,function(r,o,i){if(t()&&(r.order=t()),"order"!==i){var a=n[i];if(e.isFunction(o)&&!o())return r;if("ilike"===a||"like"===a)r[i]=a+".*"+o.toFilter()+"*";else if("@@"===a)r[i]=a+"."+o.toFilter().trim().replace(/\s+/g,"&");else if("between"===a){if(!o.lte.toFilter()&&!o.gte.toFilter())return r;r[i]=[],o.gte()&&r[i].push("gte."+o.gte.toFilter()),o.lte()&&r[i].push("lte."+o.lte.toFilter())}else r[i]=a+"."+o.toFilter()}return r},{})};return e.extend({},o,{parameters:i})},r.init=function(n,a){return r.onAuthFailure=t.prop(function(){}),r.request=function(r){return t.request(e.extend(r,{url:n+r.url}))},r.model=function(n,r){var o=function(n){n=n||{},e.extend(this,e.reduce(r,function(e,r){return e[r]=t.prop(n[r]),e},{}))};o.pageSize=t.prop(10);var i=function(t){var e=function(){var e=(t-1)*o.pageSize(),n=e+o.pageSize()-1;return e+"-"+n};return function(t){t.setRequestHeader("Range-unit","items"),t.setRequestHeader("Range",e())}},a=function(t){return function(r,o,a){return t(e.extend({method:"GET",url:"/"+n,data:o,config:i(r)},a))}};return o.getPageWithToken=a(t.postgrest.requestWithToken),o.getPage=a(t.postgrest.request),o},r.requestWithToken=function(n){return t.postgrest.authenticate().then(function(){var r=e.isFunction(n.config)?e.compose(n.config,o):o;return t.postgrest.request(e.extend(n,{config:r}))})},r.authenticate=function(){var e=t.deferred();return i()?(e.resolve({token:i()}),e.promise):t.request(a).then(function(t){i(t.token)},r.onAuthFailure())},r},t.postgrest=r}),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.moment=e()}(this,function(){"use strict";function t(){return Cr.apply(null,arguments)}function e(t){Cr=t}function n(t){return"[object Array]"===Object.prototype.toString.call(t)}function r(t){return t instanceof Date||"[object Date]"===Object.prototype.toString.call(t)}function o(t,e){var n,r=[];for(n=0;n<t.length;++n)r.push(e(t[n],n));return r}function i(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function a(t,e){for(var n in e)i(e,n)&&(t[n]=e[n]);return i(e,"toString")&&(t.toString=e.toString),i(e,"valueOf")&&(t.valueOf=e.valueOf),t}function s(t,e,n,r){return ke(t,e,n,r,!0).utc()}function u(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function l(t){return null==t._pf&&(t._pf=u()),t._pf}function c(t){if(null==t._isValid){var e=l(t);t._isValid=!isNaN(t._d.getTime())&&e.overflow<0&&!e.empty&&!e.invalidMonth&&!e.nullInput&&!e.invalidFormat&&!e.userInvalidated,t._strict&&(t._isValid=t._isValid&&0===e.charsLeftOver&&0===e.unusedTokens.length&&void 0===e.bigHour)}return t._isValid}function d(t){var e=s(0/0);return null!=t?a(l(e),t):l(e).userInvalidated=!0,e}function f(t,e){var n,r,o;if("undefined"!=typeof e._isAMomentObject&&(t._isAMomentObject=e._isAMomentObject),"undefined"!=typeof e._i&&(t._i=e._i),"undefined"!=typeof e._f&&(t._f=e._f),"undefined"!=typeof e._l&&(t._l=e._l),"undefined"!=typeof e._strict&&(t._strict=e._strict),"undefined"!=typeof e._tzm&&(t._tzm=e._tzm),"undefined"!=typeof e._isUTC&&(t._isUTC=e._isUTC),"undefined"!=typeof e._offset&&(t._offset=e._offset),"undefined"!=typeof e._pf&&(t._pf=l(e)),"undefined"!=typeof e._locale&&(t._locale=e._locale),Fr.length>0)for(n in Fr)r=Fr[n],o=e[r],"undefined"!=typeof o&&(t[r]=o);return t}function m(e){f(this,e),this._d=new Date(+e._d),jr===!1&&(jr=!0,t.updateOffset(this),jr=!1)}function h(t){return t instanceof m||null!=t&&null!=t._isAMomentObject}function p(t){var e=+t,n=0;return 0!==e&&isFinite(e)&&(n=e>=0?Math.floor(e):Math.ceil(e)),n}function g(t,e,n){var r,o=Math.min(t.length,e.length),i=Math.abs(t.length-e.length),a=0;for(r=0;o>r;r++)(n&&t[r]!==e[r]||!n&&p(t[r])!==p(e[r]))&&a++;return a+i}function v(){}function y(t){return t?t.toLowerCase().replace("_","-"):t}function w(t){for(var e,n,r,o,i=0;i<t.length;){for(o=y(t[i]).split("-"),e=o.length,n=y(t[i+1]),n=n?n.split("-"):null;e>0;){if(r=_(o.slice(0,e).join("-")))return r;if(n&&n.length>=e&&g(o,n,!0)>=e-1)break;e--}i++}return null}function _(t){var e=null;if(!Er[t]&&"undefined"!=typeof module&&module&&module.exports)try{e=Or._abbr,require("./locale/"+t),b(e)}catch(n){}return Er[t]}function b(t,e){var n;return t&&(n="undefined"==typeof e?M(t):D(t,e),n&&(Or=n)),Or._abbr}function D(t,e){return null!==e?(e.abbr=t,Er[t]||(Er[t]=new v),Er[t].set(e),b(t),Er[t]):(delete Er[t],null)}function M(t){var e;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return Or;if(!n(t)){if(e=_(t))return e;t=[t]}return w(t)}function x(t,e){var n=t.toLowerCase();Pr[n]=Pr[n+"s"]=Pr[e]=t}function k(t){return"string"==typeof t?Pr[t]||Pr[t.toLowerCase()]:void 0}function Y(t){var e,n,r={};for(n in t)i(t,n)&&(e=k(n),e&&(r[e]=t[n]));return r}function T(e,n){return function(r){return null!=r?(A(this,e,r),t.updateOffset(this,n),this):S(this,e)}}function S(t,e){return t._d["get"+(t._isUTC?"UTC":"")+e]()}function A(t,e,n){return t._d["set"+(t._isUTC?"UTC":"")+e](n)}function C(t,e){var n;if("object"==typeof t)for(n in t)this.set(n,t[n]);else if(t=k(t),"function"==typeof this[t])return this[t](e);return this}function O(t,e,n){for(var r=""+Math.abs(t),o=t>=0;r.length<e;)r="0"+r;return(o?n?"+":"":"-")+r}function F(t,e,n,r){var o=r;"string"==typeof r&&(o=function(){return this[r]()}),t&&(Lr[t]=o),e&&(Lr[e[0]]=function(){return O(o.apply(this,arguments),e[1],e[2])}),n&&(Lr[n]=function(){return this.localeData().ordinal(o.apply(this,arguments),t)})}function j(t){return t.match(/\[[\s\S]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"")}function E(t){var e,n,r=t.match(Rr);for(e=0,n=r.length;n>e;e++)r[e]=Lr[r[e]]?Lr[r[e]]:j(r[e]);return function(o){var i="";for(e=0;n>e;e++)i+=r[e]instanceof Function?r[e].call(o,t):r[e];return i}}function P(t,e){return t.isValid()?(e=R(e,t.localeData()),zr[e]||(zr[e]=E(e)),zr[e](t)):t.localeData().invalidDate()}function R(t,e){function n(t){return e.longDateFormat(t)||t}var r=5;for(Nr.lastIndex=0;r>=0&&Nr.test(t);)t=t.replace(Nr,n),Nr.lastIndex=0,r-=1;return t}function N(t,e,n){to[t]="function"==typeof e?e:function(t){return t&&n?n:e}}function z(t,e){return i(to,t)?to[t](e._strict,e._locale):new RegExp(L(t))}function L(t){return t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,e,n,r,o){return e||n||r||o}).replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function U(t,e){var n,r=e;for("string"==typeof t&&(t=[t]),"number"==typeof e&&(r=function(t,n){n[e]=p(t)}),n=0;n<t.length;n++)eo[t[n]]=r}function I(t,e){U(t,function(t,n,r,o){r._w=r._w||{},e(t,r._w,r,o)})}function G(t,e,n){null!=e&&i(eo,t)&&eo[t](e,n._a,n,t)}function W(t,e){return new Date(Date.UTC(t,e+1,0)).getUTCDate()}function H(t){return this._months[t.month()]}function q(t){return this._monthsShort[t.month()]}function B(t,e,n){var r,o,i;for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;12>r;r++){if(o=s([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(o,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(o,"").replace(".","")+"$","i")),n||this._monthsParse[r]||(i="^"+this.months(o,"")+"|^"+this.monthsShort(o,""),this._monthsParse[r]=new RegExp(i.replace(".",""),"i")),n&&"MMMM"===e&&this._longMonthsParse[r].test(t))return r;if(n&&"MMM"===e&&this._shortMonthsParse[r].test(t))return r;if(!n&&this._monthsParse[r].test(t))return r}}function $(t,e){var n;return"string"==typeof e&&(e=t.localeData().monthsParse(e),"number"!=typeof e)?t:(n=Math.min(t.date(),W(t.year(),e)),t._d["set"+(t._isUTC?"UTC":"")+"Month"](e,n),t)}function V(e){return null!=e?($(this,e),t.updateOffset(this,!0),this):S(this,"Month")}function Z(){return W(this.year(),this.month())}function J(t){var e,n=t._a;return n&&-2===l(t).overflow&&(e=n[ro]<0||n[ro]>11?ro:n[oo]<1||n[oo]>W(n[no],n[ro])?oo:n[io]<0||n[io]>24||24===n[io]&&(0!==n[ao]||0!==n[so]||0!==n[uo])?io:n[ao]<0||n[ao]>59?ao:n[so]<0||n[so]>59?so:n[uo]<0||n[uo]>999?uo:-1,l(t)._overflowDayOfYear&&(no>e||e>oo)&&(e=oo),l(t).overflow=e),t}function K(e){t.suppressDeprecationWarnings===!1&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function Q(t,e){var n=!0,r=t+"\n"+(new Error).stack;return a(function(){return n&&(K(r),n=!1),e.apply(this,arguments)},e)}function X(t,e){fo[t]||(K(e),fo[t]=!0)}function te(t){var e,n,r=t._i,o=mo.exec(r);if(o){for(l(t).iso=!0,e=0,n=ho.length;n>e;e++)if(ho[e][1].exec(r)){t._f=ho[e][0]+(o[6]||" ");break}for(e=0,n=po.length;n>e;e++)if(po[e][1].exec(r)){t._f+=po[e][0];break}r.match(Kr)&&(t._f+="Z"),we(t)}else t._isValid=!1}function ee(e){var n=go.exec(e._i);return null!==n?void(e._d=new Date(+n[1])):(te(e),void(e._isValid===!1&&(delete e._isValid,t.createFromInputFallback(e))))}function ne(t,e,n,r,o,i,a){var s=new Date(t,e,n,r,o,i,a);return 1970>t&&s.setFullYear(t),s}function re(t){var e=new Date(Date.UTC.apply(null,arguments));return 1970>t&&e.setUTCFullYear(t),e}function oe(t){return ie(t)?366:365}function ie(t){return t%4===0&&t%100!==0||t%400===0}function ae(){return ie(this.year())}function se(t,e,n){var r,o=n-e,i=n-t.day();return i>o&&(i-=7),o-7>i&&(i+=7),r=Ye(t).add(i,"d"),{week:Math.ceil(r.dayOfYear()/7),year:r.year()}}function ue(t){return se(t,this._week.dow,this._week.doy).week}function le(){return this._week.dow}function ce(){return this._week.doy}function de(t){var e=this.localeData().week(this);return null==t?e:this.add(7*(t-e),"d")}function fe(t){var e=se(this,1,4).week;return null==t?e:this.add(7*(t-e),"d")}function me(t,e,n,r,o){var i,a,s=re(t,0,1).getUTCDay();return s=0===s?7:s,n=null!=n?n:o,i=o-s+(s>r?7:0)-(o>s?7:0),a=7*(e-1)+(n-o)+i+1,{year:a>0?t:t-1,dayOfYear:a>0?a:oe(t-1)+a}}function he(t){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==t?e:this.add(t-e,"d")}function pe(t,e,n){return null!=t?t:null!=e?e:n}function ge(t){var e=new Date;return t._useUTC?[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()]:[e.getFullYear(),e.getMonth(),e.getDate()]}function ve(t){var e,n,r,o,i=[];if(!t._d){for(r=ge(t),t._w&&null==t._a[oo]&&null==t._a[ro]&&ye(t),t._dayOfYear&&(o=pe(t._a[no],r[no]),t._dayOfYear>oe(o)&&(l(t)._overflowDayOfYear=!0),n=re(o,0,t._dayOfYear),t._a[ro]=n.getUTCMonth(),t._a[oo]=n.getUTCDate()),e=0;3>e&&null==t._a[e];++e)t._a[e]=i[e]=r[e];for(;7>e;e++)t._a[e]=i[e]=null==t._a[e]?2===e?1:0:t._a[e];24===t._a[io]&&0===t._a[ao]&&0===t._a[so]&&0===t._a[uo]&&(t._nextDay=!0,t._a[io]=0),t._d=(t._useUTC?re:ne).apply(null,i),null!=t._tzm&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[io]=24)}}function ye(t){var e,n,r,o,i,a,s;e=t._w,null!=e.GG||null!=e.W||null!=e.E?(i=1,a=4,n=pe(e.GG,t._a[no],se(Ye(),1,4).year),r=pe(e.W,1),o=pe(e.E,1)):(i=t._locale._week.dow,a=t._locale._week.doy,n=pe(e.gg,t._a[no],se(Ye(),i,a).year),r=pe(e.w,1),null!=e.d?(o=e.d,i>o&&++r):o=null!=e.e?e.e+i:i),s=me(n,r,o,a,i),t._a[no]=s.year,t._dayOfYear=s.dayOfYear}function we(e){if(e._f===t.ISO_8601)return void te(e);e._a=[],l(e).empty=!0;var n,r,o,i,a,s=""+e._i,u=s.length,c=0;for(o=R(e._f,e._locale).match(Rr)||[],n=0;n<o.length;n++)i=o[n],r=(s.match(z(i,e))||[])[0],r&&(a=s.substr(0,s.indexOf(r)),a.length>0&&l(e).unusedInput.push(a),s=s.slice(s.indexOf(r)+r.length),c+=r.length),Lr[i]?(r?l(e).empty=!1:l(e).unusedTokens.push(i),G(i,r,e)):e._strict&&!r&&l(e).unusedTokens.push(i);l(e).charsLeftOver=u-c,s.length>0&&l(e).unusedInput.push(s),l(e).bigHour===!0&&e._a[io]<=12&&e._a[io]>0&&(l(e).bigHour=void 0),e._a[io]=_e(e._locale,e._a[io],e._meridiem),ve(e),J(e)}function _e(t,e,n){var r;return null==n?e:null!=t.meridiemHour?t.meridiemHour(e,n):null!=t.isPM?(r=t.isPM(n),r&&12>e&&(e+=12),r||12!==e||(e=0),e):e}function be(t){var e,n,r,o,i;if(0===t._f.length)return l(t).invalidFormat=!0,void(t._d=new Date(0/0));for(o=0;o<t._f.length;o++)i=0,e=f({},t),null!=t._useUTC&&(e._useUTC=t._useUTC),e._f=t._f[o],we(e),c(e)&&(i+=l(e).charsLeftOver,i+=10*l(e).unusedTokens.length,l(e).score=i,(null==r||r>i)&&(r=i,n=e));a(t,n||e)}function De(t){if(!t._d){var e=Y(t._i);t._a=[e.year,e.month,e.day||e.date,e.hour,e.minute,e.second,e.millisecond],ve(t)}}function Me(t){var e,o=t._i,i=t._f;return t._locale=t._locale||M(t._l),null===o||void 0===i&&""===o?d({nullInput:!0}):("string"==typeof o&&(t._i=o=t._locale.preparse(o)),h(o)?new m(J(o)):(n(i)?be(t):i?we(t):r(o)?t._d=o:xe(t),e=new m(J(t)),e._nextDay&&(e.add(1,"d"),e._nextDay=void 0),e))}function xe(e){var i=e._i;void 0===i?e._d=new Date:r(i)?e._d=new Date(+i):"string"==typeof i?ee(e):n(i)?(e._a=o(i.slice(0),function(t){return parseInt(t,10)}),ve(e)):"object"==typeof i?De(e):"number"==typeof i?e._d=new Date(i):t.createFromInputFallback(e)}function ke(t,e,n,r,o){var i={};return"boolean"==typeof n&&(r=n,n=void 0),i._isAMomentObject=!0,i._useUTC=i._isUTC=o,i._l=n,i._i=t,i._f=e,i._strict=r,Me(i)}function Ye(t,e,n,r){return ke(t,e,n,r,!1)}function Te(t,e){var r,o;if(1===e.length&&n(e[0])&&(e=e[0]),!e.length)return Ye();for(r=e[0],o=1;o<e.length;++o)e[o][t](r)&&(r=e[o]);return r}function Se(){var t=[].slice.call(arguments,0);return Te("isBefore",t)}function Ae(){var t=[].slice.call(arguments,0);return Te("isAfter",t)}function Ce(t){var e=Y(t),n=e.year||0,r=e.quarter||0,o=e.month||0,i=e.week||0,a=e.day||0,s=e.hour||0,u=e.minute||0,l=e.second||0,c=e.millisecond||0;this._milliseconds=+c+1e3*l+6e4*u+36e5*s,this._days=+a+7*i,this._months=+o+3*r+12*n,this._data={},this._locale=M(),this._bubble()}function Oe(t){return t instanceof Ce}function Fe(t,e){F(t,0,0,function(){var t=this.utcOffset(),n="+";return 0>t&&(t=-t,n="-"),n+O(~~(t/60),2)+e+O(~~t%60,2)})}function je(t){var e=(t||"").match(Kr)||[],n=e[e.length-1]||[],r=(n+"").match(bo)||["-",0,0],o=+(60*r[1])+p(r[2]);return"+"===r[0]?o:-o}function Ee(e,n){var o,i;return n._isUTC?(o=n.clone(),i=(h(e)||r(e)?+e:+Ye(e))-+o,o._d.setTime(+o._d+i),t.updateOffset(o,!1),o):Ye(e).local()}function Pe(t){return 15*-Math.round(t._d.getTimezoneOffset()/15)}function Re(e,n){var r,o=this._offset||0;return null!=e?("string"==typeof e&&(e=je(e)),Math.abs(e)<16&&(e=60*e),!this._isUTC&&n&&(r=Pe(this)),this._offset=e,this._isUTC=!0,null!=r&&this.add(r,"m"),o!==e&&(!n||this._changeInProgress?Qe(this,$e(e-o,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,t.updateOffset(this,!0),this._changeInProgress=null)),this):this._isUTC?o:Pe(this)}function Ne(t,e){return null!=t?("string"!=typeof t&&(t=-t),this.utcOffset(t,e),this):-this.utcOffset()}function ze(t){return this.utcOffset(0,t)}function Le(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract(Pe(this),"m")),this}function Ue(){return this._tzm?this.utcOffset(this._tzm):"string"==typeof this._i&&this.utcOffset(je(this._i)),this}function Ie(t){return t=t?Ye(t).utcOffset():0,(this.utcOffset()-t)%60===0}function Ge(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function We(){if(this._a){var t=this._isUTC?s(this._a):Ye(this._a);return this.isValid()&&g(this._a,t.toArray())>0}return!1}function He(){return!this._isUTC}function qe(){return this._isUTC}function Be(){return this._isUTC&&0===this._offset}function $e(t,e){var n,r,o,a=t,s=null;return Oe(t)?a={ms:t._milliseconds,d:t._days,M:t._months}:"number"==typeof t?(a={},e?a[e]=t:a.milliseconds=t):(s=Do.exec(t))?(n="-"===s[1]?-1:1,a={y:0,d:p(s[oo])*n,h:p(s[io])*n,m:p(s[ao])*n,s:p(s[so])*n,ms:p(s[uo])*n}):(s=Mo.exec(t))?(n="-"===s[1]?-1:1,a={y:Ve(s[2],n),M:Ve(s[3],n),d:Ve(s[4],n),h:Ve(s[5],n),m:Ve(s[6],n),s:Ve(s[7],n),w:Ve(s[8],n)}):null==a?a={}:"object"==typeof a&&("from"in a||"to"in a)&&(o=Je(Ye(a.from),Ye(a.to)),a={},a.ms=o.milliseconds,a.M=o.months),r=new Ce(a),Oe(t)&&i(t,"_locale")&&(r._locale=t._locale),r}function Ve(t,e){var n=t&&parseFloat(t.replace(",","."));return(isNaN(n)?0:n)*e}function Ze(t,e){var n={milliseconds:0,months:0};return n.months=e.month()-t.month()+12*(e.year()-t.year()),t.clone().add(n.months,"M").isAfter(e)&&--n.months,n.milliseconds=+e-+t.clone().add(n.months,"M"),n}function Je(t,e){var n;return e=Ee(e,t),t.isBefore(e)?n=Ze(t,e):(n=Ze(e,t),n.milliseconds=-n.milliseconds,n.months=-n.months),n}function Ke(t,e){return function(n,r){var o,i;return null===r||isNaN(+r)||(X(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period)."),i=n,n=r,r=i),n="string"==typeof n?+n:n,o=$e(n,r),Qe(this,o,t),this}}function Qe(e,n,r,o){var i=n._milliseconds,a=n._days,s=n._months;o=null==o?!0:o,i&&e._d.setTime(+e._d+i*r),a&&A(e,"Date",S(e,"Date")+a*r),s&&$(e,S(e,"Month")+s*r),o&&t.updateOffset(e,a||s)}function Xe(t){var e=t||Ye(),n=Ee(e,this).startOf("day"),r=this.diff(n,"days",!0),o=-6>r?"sameElse":-1>r?"lastWeek":0>r?"lastDay":1>r?"sameDay":2>r?"nextDay":7>r?"nextWeek":"sameElse";return this.format(this.localeData().calendar(o,this,Ye(e)))}function tn(){return new m(this)}function en(t,e){var n;return e=k("undefined"!=typeof e?e:"millisecond"),"millisecond"===e?(t=h(t)?t:Ye(t),+this>+t):(n=h(t)?+t:+Ye(t),n<+this.clone().startOf(e))}function nn(t,e){var n;return e=k("undefined"!=typeof e?e:"millisecond"),"millisecond"===e?(t=h(t)?t:Ye(t),+t>+this):(n=h(t)?+t:+Ye(t),+this.clone().endOf(e)<n)}function rn(t,e,n){return this.isAfter(t,n)&&this.isBefore(e,n)}function on(t,e){var n;return e=k(e||"millisecond"),"millisecond"===e?(t=h(t)?t:Ye(t),+this===+t):(n=+Ye(t),+this.clone().startOf(e)<=n&&n<=+this.clone().endOf(e))}function an(t){return 0>t?Math.ceil(t):Math.floor(t)}function sn(t,e,n){var r,o,i=Ee(t,this),a=6e4*(i.utcOffset()-this.utcOffset());return e=k(e),"year"===e||"month"===e||"quarter"===e?(o=un(this,i),"quarter"===e?o/=3:"year"===e&&(o/=12)):(r=this-i,o="second"===e?r/1e3:"minute"===e?r/6e4:"hour"===e?r/36e5:"day"===e?(r-a)/864e5:"week"===e?(r-a)/6048e5:r),n?o:an(o)}function un(t,e){var n,r,o=12*(e.year()-t.year())+(e.month()-t.month()),i=t.clone().add(o,"months");return 0>e-i?(n=t.clone().add(o-1,"months"),r=(e-i)/(i-n)):(n=t.clone().add(o+1,"months"),r=(e-i)/(n-i)),-(o+r)}function ln(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function cn(){var t=this.clone().utc();return 0<t.year()&&t.year()<=9999?"function"==typeof Date.prototype.toISOString?this.toDate().toISOString():P(t,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):P(t,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}function dn(e){var n=P(this,e||t.defaultFormat);return this.localeData().postformat(n)}function fn(t,e){return this.isValid()?$e({to:this,from:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function mn(t){return this.from(Ye(),t)}function hn(t,e){return this.isValid()?$e({from:this,to:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function pn(t){return this.to(Ye(),t)}function gn(t){var e;return void 0===t?this._locale._abbr:(e=M(t),null!=e&&(this._locale=e),this)}function vn(){return this._locale}function yn(t){switch(t=k(t)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===t&&this.weekday(0),"isoWeek"===t&&this.isoWeekday(1),"quarter"===t&&this.month(3*Math.floor(this.month()/3)),this}function wn(t){return t=k(t),void 0===t||"millisecond"===t?this:this.startOf(t).add(1,"isoWeek"===t?"week":t).subtract(1,"ms")}function _n(){return+this._d-6e4*(this._offset||0)}function bn(){return Math.floor(+this/1e3)}function Dn(){return this._offset?new Date(+this):this._d}function Mn(){var t=this;return[t.year(),t.month(),t.date(),t.hour(),t.minute(),t.second(),t.millisecond()]}function xn(){return c(this)}function kn(){return a({},l(this))}function Yn(){return l(this).overflow}function Tn(t,e){F(0,[t,t.length],0,e)}function Sn(t,e,n){return se(Ye([t,11,31+e-n]),e,n).week}function An(t){var e=se(this,this.localeData()._week.dow,this.localeData()._week.doy).year;return null==t?e:this.add(t-e,"y")}function Cn(t){var e=se(this,1,4).year;return null==t?e:this.add(t-e,"y")}function On(){return Sn(this.year(),1,4)}function Fn(){var t=this.localeData()._week;return Sn(this.year(),t.dow,t.doy)}function jn(t){return null==t?Math.ceil((this.month()+1)/3):this.month(3*(t-1)+this.month()%3)}function En(t,e){if("string"==typeof t)if(isNaN(t)){if(t=e.weekdaysParse(t),"number"!=typeof t)return null}else t=parseInt(t,10);return t}function Pn(t){return this._weekdays[t.day()]}function Rn(t){return this._weekdaysShort[t.day()]}function Nn(t){return this._weekdaysMin[t.day()]}function zn(t){var e,n,r;for(this._weekdaysParse||(this._weekdaysParse=[]),e=0;7>e;e++)if(this._weekdaysParse[e]||(n=Ye([2e3,1]).day(e),r="^"+this.weekdays(n,"")+"|^"+this.weekdaysShort(n,"")+"|^"+this.weekdaysMin(n,""),this._weekdaysParse[e]=new RegExp(r.replace(".",""),"i")),this._weekdaysParse[e].test(t))return e}function Ln(t){var e=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=t?(t=En(t,this.localeData()),this.add(t-e,"d")):e}function Un(t){var e=(this.day()+7-this.localeData()._week.dow)%7;return null==t?e:this.add(t-e,"d")}function In(t){return null==t?this.day()||7:this.day(this.day()%7?t:t-7)}function Gn(t,e){F(t,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)})}function Wn(t,e){return e._meridiemParse}function Hn(t){return"p"===(t+"").toLowerCase().charAt(0)}function qn(t,e,n){return t>11?n?"pm":"PM":n?"am":"AM"}function Bn(t){F(0,[t,3],0,"millisecond")}function $n(){return this._isUTC?"UTC":""}function Vn(){return this._isUTC?"Coordinated Universal Time":""}function Zn(t){return Ye(1e3*t)}function Jn(){return Ye.apply(null,arguments).parseZone()}function Kn(t,e,n){var r=this._calendar[t];return"function"==typeof r?r.call(e,n):r}function Qn(t){var e=this._longDateFormat[t];return!e&&this._longDateFormat[t.toUpperCase()]&&(e=this._longDateFormat[t.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(t){return t.slice(1)}),this._longDateFormat[t]=e),e}function Xn(){return this._invalidDate}function tr(t){return this._ordinal.replace("%d",t)}function er(t){return t}function nr(t,e,n,r){var o=this._relativeTime[n];return"function"==typeof o?o(t,e,n,r):o.replace(/%d/i,t)}function rr(t,e){var n=this._relativeTime[t>0?"future":"past"];return"function"==typeof n?n(e):n.replace(/%s/i,e)}function or(t){var e,n;for(n in t)e=t[n],"function"==typeof e?this[n]=e:this["_"+n]=e;this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)}function ir(t,e,n,r){var o=M(),i=s().set(r,e);return o[n](i,t)}function ar(t,e,n,r,o){if("number"==typeof t&&(e=t,t=void 0),t=t||"",null!=e)return ir(t,e,n,o);var i,a=[];for(i=0;r>i;i++)a[i]=ir(t,i,n,o);return a}function sr(t,e){return ar(t,e,"months",12,"month")}function ur(t,e){return ar(t,e,"monthsShort",12,"month")}function lr(t,e){return ar(t,e,"weekdays",7,"day")}function cr(t,e){return ar(t,e,"weekdaysShort",7,"day")}function dr(t,e){return ar(t,e,"weekdaysMin",7,"day")}function fr(){var t=this._data;return this._milliseconds=qo(this._milliseconds),this._days=qo(this._days),this._months=qo(this._months),t.milliseconds=qo(t.milliseconds),t.seconds=qo(t.seconds),t.minutes=qo(t.minutes),t.hours=qo(t.hours),t.months=qo(t.months),t.years=qo(t.years),this}function mr(t,e,n,r){var o=$e(e,n);return t._milliseconds+=r*o._milliseconds,t._days+=r*o._days,t._months+=r*o._months,t._bubble()}function hr(t,e){return mr(this,t,e,1)}function pr(t,e){return mr(this,t,e,-1)}function gr(){var t,e,n,r=this._milliseconds,o=this._days,i=this._months,a=this._data,s=0;return a.milliseconds=r%1e3,t=an(r/1e3),a.seconds=t%60,e=an(t/60),a.minutes=e%60,n=an(e/60),a.hours=n%24,o+=an(n/24),s=an(vr(o)),o-=an(yr(s)),i+=an(o/30),o%=30,s+=an(i/12),i%=12,a.days=o,a.months=i,a.years=s,this}function vr(t){return 400*t/146097}function yr(t){return 146097*t/400}function wr(t){var e,n,r=this._milliseconds;if(t=k(t),"month"===t||"year"===t)return e=this._days+r/864e5,n=this._months+12*vr(e),"month"===t?n:n/12;switch(e=this._days+Math.round(yr(this._months/12)),t){case"week":return e/7+r/6048e5;case"day":return e+r/864e5;case"hour":return 24*e+r/36e5;case"minute":return 1440*e+r/6e4;case"second":return 86400*e+r/1e3;case"millisecond":return Math.floor(864e5*e)+r;default:throw new Error("Unknown unit "+t)}}function _r(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*p(this._months/12)}function br(t){return function(){return this.as(t)}}function Dr(t){return t=k(t),this[t+"s"]()}function Mr(t){return function(){return this._data[t]}}function xr(){return an(this.days()/7)}function kr(t,e,n,r,o){return o.relativeTime(e||1,!!n,t,r)}function Yr(t,e,n){var r=$e(t).abs(),o=si(r.as("s")),i=si(r.as("m")),a=si(r.as("h")),s=si(r.as("d")),u=si(r.as("M")),l=si(r.as("y")),c=o<ui.s&&["s",o]||1===i&&["m"]||i<ui.m&&["mm",i]||1===a&&["h"]||a<ui.h&&["hh",a]||1===s&&["d"]||s<ui.d&&["dd",s]||1===u&&["M"]||u<ui.M&&["MM",u]||1===l&&["y"]||["yy",l];return c[2]=e,c[3]=+t>0,c[4]=n,kr.apply(null,c)}function Tr(t,e){return void 0===ui[t]?!1:void 0===e?ui[t]:(ui[t]=e,!0)}function Sr(t){var e=this.localeData(),n=Yr(this,!t,e);return t&&(n=e.pastFuture(+this,n)),e.postformat(n)}function Ar(){var t=li(this.years()),e=li(this.months()),n=li(this.days()),r=li(this.hours()),o=li(this.minutes()),i=li(this.seconds()+this.milliseconds()/1e3),a=this.asSeconds();return a?(0>a?"-":"")+"P"+(t?t+"Y":"")+(e?e+"M":"")+(n?n+"D":"")+(r||o||i?"T":"")+(r?r+"H":"")+(o?o+"M":"")+(i?i+"S":""):"P0D"}var Cr,Or,Fr=t.momentProperties=[],jr=!1,Er={},Pr={},Rr=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,4}|x|X|zz?|ZZ?|.)/g,Nr=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,zr={},Lr={},Ur=/\d/,Ir=/\d\d/,Gr=/\d{3}/,Wr=/\d{4}/,Hr=/[+-]?\d{6}/,qr=/\d\d?/,Br=/\d{1,3}/,$r=/\d{1,4}/,Vr=/[+-]?\d{1,6}/,Zr=/\d+/,Jr=/[+-]?\d+/,Kr=/Z|[+-]\d\d:?\d\d/gi,Qr=/[+-]?\d+(\.\d{1,3})?/,Xr=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,to={},eo={},no=0,ro=1,oo=2,io=3,ao=4,so=5,uo=6;F("M",["MM",2],"Mo",function(){return this.month()+1}),F("MMM",0,0,function(t){return this.localeData().monthsShort(this,t)}),F("MMMM",0,0,function(t){return this.localeData().months(this,t)}),x("month","M"),N("M",qr),N("MM",qr,Ir),N("MMM",Xr),N("MMMM",Xr),U(["M","MM"],function(t,e){e[ro]=p(t)-1}),U(["MMM","MMMM"],function(t,e,n,r){var o=n._locale.monthsParse(t,r,n._strict);null!=o?e[ro]=o:l(n).invalidMonth=t});var lo="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),co="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),fo={};t.suppressDeprecationWarnings=!1;var mo=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,ho=[["YYYYYY-MM-DD",/[+-]\d{6}-\d{2}-\d{2}/],["YYYY-MM-DD",/\d{4}-\d{2}-\d{2}/],["GGGG-[W]WW-E",/\d{4}-W\d{2}-\d/],["GGGG-[W]WW",/\d{4}-W\d{2}/],["YYYY-DDD",/\d{4}-\d{3}/]],po=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],go=/^\/?Date\((\-?\d+)/i;t.createFromInputFallback=Q("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))}),F(0,["YY",2],0,function(){return this.year()%100}),F(0,["YYYY",4],0,"year"),F(0,["YYYYY",5],0,"year"),F(0,["YYYYYY",6,!0],0,"year"),x("year","y"),N("Y",Jr),N("YY",qr,Ir),N("YYYY",$r,Wr),N("YYYYY",Vr,Hr),N("YYYYYY",Vr,Hr),U(["YYYY","YYYYY","YYYYYY"],no),U("YY",function(e,n){n[no]=t.parseTwoDigitYear(e)}),t.parseTwoDigitYear=function(t){return p(t)+(p(t)>68?1900:2e3)};var vo=T("FullYear",!1);F("w",["ww",2],"wo","week"),F("W",["WW",2],"Wo","isoWeek"),x("week","w"),x("isoWeek","W"),N("w",qr),N("ww",qr,Ir),N("W",qr),N("WW",qr,Ir),I(["w","ww","W","WW"],function(t,e,n,r){e[r.substr(0,1)]=p(t)});var yo={dow:0,doy:6};F("DDD",["DDDD",3],"DDDo","dayOfYear"),x("dayOfYear","DDD"),N("DDD",Br),N("DDDD",Gr),U(["DDD","DDDD"],function(t,e,n){n._dayOfYear=p(t)}),t.ISO_8601=function(){};var wo=Q("moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(){var t=Ye.apply(null,arguments);return this>t?this:t}),_o=Q("moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",function(){var t=Ye.apply(null,arguments);return t>this?this:t});Fe("Z",":"),Fe("ZZ",""),N("Z",Kr),N("ZZ",Kr),U(["Z","ZZ"],function(t,e,n){n._useUTC=!0,n._tzm=je(t)});var bo=/([\+\-]|\d\d)/gi;t.updateOffset=function(){};var Do=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,Mo=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/;$e.fn=Ce.prototype;var xo=Ke(1,"add"),ko=Ke(-1,"subtract");t.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";var Yo=Q("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(t){return void 0===t?this.localeData():this.locale(t)});F(0,["gg",2],0,function(){return this.weekYear()%100}),F(0,["GG",2],0,function(){return this.isoWeekYear()%100}),Tn("gggg","weekYear"),Tn("ggggg","weekYear"),Tn("GGGG","isoWeekYear"),Tn("GGGGG","isoWeekYear"),x("weekYear","gg"),x("isoWeekYear","GG"),N("G",Jr),N("g",Jr),N("GG",qr,Ir),N("gg",qr,Ir),N("GGGG",$r,Wr),N("gggg",$r,Wr),N("GGGGG",Vr,Hr),N("ggggg",Vr,Hr),I(["gggg","ggggg","GGGG","GGGGG"],function(t,e,n,r){e[r.substr(0,2)]=p(t)
}),I(["gg","GG"],function(e,n,r,o){n[o]=t.parseTwoDigitYear(e)}),F("Q",0,0,"quarter"),x("quarter","Q"),N("Q",Ur),U("Q",function(t,e){e[ro]=3*(p(t)-1)}),F("D",["DD",2],"Do","date"),x("date","D"),N("D",qr),N("DD",qr,Ir),N("Do",function(t,e){return t?e._ordinalParse:e._ordinalParseLenient}),U(["D","DD"],oo),U("Do",function(t,e){e[oo]=p(t.match(qr)[0],10)});var To=T("Date",!0);F("d",0,"do","day"),F("dd",0,0,function(t){return this.localeData().weekdaysMin(this,t)}),F("ddd",0,0,function(t){return this.localeData().weekdaysShort(this,t)}),F("dddd",0,0,function(t){return this.localeData().weekdays(this,t)}),F("e",0,0,"weekday"),F("E",0,0,"isoWeekday"),x("day","d"),x("weekday","e"),x("isoWeekday","E"),N("d",qr),N("e",qr),N("E",qr),N("dd",Xr),N("ddd",Xr),N("dddd",Xr),I(["dd","ddd","dddd"],function(t,e,n){var r=n._locale.weekdaysParse(t);null!=r?e.d=r:l(n).invalidWeekday=t}),I(["d","e","E"],function(t,e,n,r){e[r]=p(t)});var So="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Ao="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Co="Su_Mo_Tu_We_Th_Fr_Sa".split("_");F("H",["HH",2],0,"hour"),F("h",["hh",2],0,function(){return this.hours()%12||12}),Gn("a",!0),Gn("A",!1),x("hour","h"),N("a",Wn),N("A",Wn),N("H",qr),N("h",qr),N("HH",qr,Ir),N("hh",qr,Ir),U(["H","HH"],io),U(["a","A"],function(t,e,n){n._isPm=n._locale.isPM(t),n._meridiem=t}),U(["h","hh"],function(t,e,n){e[io]=p(t),l(n).bigHour=!0});var Oo=/[ap]\.?m?\.?/i,Fo=T("Hours",!0);F("m",["mm",2],0,"minute"),x("minute","m"),N("m",qr),N("mm",qr,Ir),U(["m","mm"],ao);var jo=T("Minutes",!1);F("s",["ss",2],0,"second"),x("second","s"),N("s",qr),N("ss",qr,Ir),U(["s","ss"],so);var Eo=T("Seconds",!1);F("S",0,0,function(){return~~(this.millisecond()/100)}),F(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),Bn("SSS"),Bn("SSSS"),x("millisecond","ms"),N("S",Br,Ur),N("SS",Br,Ir),N("SSS",Br,Gr),N("SSSS",Zr),U(["S","SS","SSS","SSSS"],function(t,e){e[uo]=p(1e3*("0."+t))});var Po=T("Milliseconds",!1);F("z",0,0,"zoneAbbr"),F("zz",0,0,"zoneName");var Ro=m.prototype;Ro.add=xo,Ro.calendar=Xe,Ro.clone=tn,Ro.diff=sn,Ro.endOf=wn,Ro.format=dn,Ro.from=fn,Ro.fromNow=mn,Ro.to=hn,Ro.toNow=pn,Ro.get=C,Ro.invalidAt=Yn,Ro.isAfter=en,Ro.isBefore=nn,Ro.isBetween=rn,Ro.isSame=on,Ro.isValid=xn,Ro.lang=Yo,Ro.locale=gn,Ro.localeData=vn,Ro.max=_o,Ro.min=wo,Ro.parsingFlags=kn,Ro.set=C,Ro.startOf=yn,Ro.subtract=ko,Ro.toArray=Mn,Ro.toDate=Dn,Ro.toISOString=cn,Ro.toJSON=cn,Ro.toString=ln,Ro.unix=bn,Ro.valueOf=_n,Ro.year=vo,Ro.isLeapYear=ae,Ro.weekYear=An,Ro.isoWeekYear=Cn,Ro.quarter=Ro.quarters=jn,Ro.month=V,Ro.daysInMonth=Z,Ro.week=Ro.weeks=de,Ro.isoWeek=Ro.isoWeeks=fe,Ro.weeksInYear=Fn,Ro.isoWeeksInYear=On,Ro.date=To,Ro.day=Ro.days=Ln,Ro.weekday=Un,Ro.isoWeekday=In,Ro.dayOfYear=he,Ro.hour=Ro.hours=Fo,Ro.minute=Ro.minutes=jo,Ro.second=Ro.seconds=Eo,Ro.millisecond=Ro.milliseconds=Po,Ro.utcOffset=Re,Ro.utc=ze,Ro.local=Le,Ro.parseZone=Ue,Ro.hasAlignedHourOffset=Ie,Ro.isDST=Ge,Ro.isDSTShifted=We,Ro.isLocal=He,Ro.isUtcOffset=qe,Ro.isUtc=Be,Ro.isUTC=Be,Ro.zoneAbbr=$n,Ro.zoneName=Vn,Ro.dates=Q("dates accessor is deprecated. Use date instead.",To),Ro.months=Q("months accessor is deprecated. Use month instead",V),Ro.years=Q("years accessor is deprecated. Use year instead",vo),Ro.zone=Q("moment().zone is deprecated, use moment().utcOffset instead. https://github.com/moment/moment/issues/1779",Ne);var No=Ro,zo={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},Lo={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY LT",LLLL:"dddd, MMMM D, YYYY LT"},Uo="Invalid date",Io="%d",Go=/\d{1,2}/,Wo={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},Ho=v.prototype;Ho._calendar=zo,Ho.calendar=Kn,Ho._longDateFormat=Lo,Ho.longDateFormat=Qn,Ho._invalidDate=Uo,Ho.invalidDate=Xn,Ho._ordinal=Io,Ho.ordinal=tr,Ho._ordinalParse=Go,Ho.preparse=er,Ho.postformat=er,Ho._relativeTime=Wo,Ho.relativeTime=nr,Ho.pastFuture=rr,Ho.set=or,Ho.months=H,Ho._months=lo,Ho.monthsShort=q,Ho._monthsShort=co,Ho.monthsParse=B,Ho.week=ue,Ho._week=yo,Ho.firstDayOfYear=ce,Ho.firstDayOfWeek=le,Ho.weekdays=Pn,Ho._weekdays=So,Ho.weekdaysMin=Nn,Ho._weekdaysMin=Co,Ho.weekdaysShort=Rn,Ho._weekdaysShort=Ao,Ho.weekdaysParse=zn,Ho.isPM=Hn,Ho._meridiemParse=Oo,Ho.meridiem=qn,b("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10,n=1===p(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th";return t+n}}),t.lang=Q("moment.lang is deprecated. Use moment.locale instead.",b),t.langData=Q("moment.langData is deprecated. Use moment.localeData instead.",M);var qo=Math.abs,Bo=br("ms"),$o=br("s"),Vo=br("m"),Zo=br("h"),Jo=br("d"),Ko=br("w"),Qo=br("M"),Xo=br("y"),ti=Mr("milliseconds"),ei=Mr("seconds"),ni=Mr("minutes"),ri=Mr("hours"),oi=Mr("days"),ii=Mr("months"),ai=Mr("years"),si=Math.round,ui={s:45,m:45,h:22,d:26,M:11},li=Math.abs,ci=Ce.prototype;ci.abs=fr,ci.add=hr,ci.subtract=pr,ci.as=wr,ci.asMilliseconds=Bo,ci.asSeconds=$o,ci.asMinutes=Vo,ci.asHours=Zo,ci.asDays=Jo,ci.asWeeks=Ko,ci.asMonths=Qo,ci.asYears=Xo,ci.valueOf=_r,ci._bubble=gr,ci.get=Dr,ci.milliseconds=ti,ci.seconds=ei,ci.minutes=ni,ci.hours=ri,ci.days=oi,ci.weeks=xr,ci.months=ii,ci.years=ai,ci.humanize=Sr,ci.toISOString=Ar,ci.toString=Ar,ci.toJSON=Ar,ci.locale=gn,ci.localeData=vn,ci.toIsoString=Q("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Ar),ci.lang=Yo,F("X",0,0,"unix"),F("x",0,0,"valueOf"),N("x",Jr),N("X",Qr),U("X",function(t,e,n){n._d=new Date(1e3*parseFloat(t,10))}),U("x",function(t,e,n){n._d=new Date(p(t))}),t.version="2.10.3",e(Ye),t.fn=No,t.min=Se,t.max=Ae,t.utc=s,t.unix=Zn,t.months=sr,t.isDate=r,t.locale=b,t.invalid=d,t.duration=$e,t.isMoment=h,t.weekdays=lr,t.parseZone=Jn,t.localeData=M,t.isDuration=Oe,t.monthsShort=ur,t.weekdaysMin=dr,t.defineLocale=D,t.weekdaysShort=cr,t.normalizeUnits=k,t.relativeTimeThreshold=Tr;var di=t;return di});var adminRoot=document.getElementById("new-admin");m.postgrest.init(adminRoot.getAttribute("data-api"),{method:"GET",url:"/api_token"});var adminApp=window.adminApp={models:{}},momentify=function(t,e){return e=e||"DD/MM/YYYY",t?moment(t).format(e):"no date"},momentFromString=function(t,e){var n=moment(t,e||"DD/MM/YYYY");return n.isValid()?n:moment(t)},generateFormatNumber=function(t,e){return function(n,r,o){if(null==n||void 0==n)return null;var i="\\d(?=(\\d{"+(o||3)+"})+"+(r>0?"\\D":"$")+")",a=n.toFixed(Math.max(0,~~r));return(e?a.replace(".",e):a).replace(new RegExp(i,"g"),"$&"+(t||","))}},formatNumber=generateFormatNumber(".",","),toggleProp=function(t,e){var n=m.prop(t);return n.toggle=function(){n(n()===e?t:e)},n},ContributionDetail=m.postgrest.model("contribution_details",["id","contribution_id","user_id","project_id","reward_id","payment_id","permalink","project_name","project_img","user_name","user_profile_img","email","key","value","installments","installment_value","state","anonymous","payer_email","gateway","gateway_id","gateway_fee","gateway_data","payment_method","project_state","has_rewards","pending_at","paid_at","refused_at","reward_minimum_value","pending_refund_at","refunded_at","created_at","is_second_slip"]);adminApp.models.ContributionDetail=ContributionDetail,adminApp.AdminContributions={controller:function(){var t=this.vm=adminApp.AdminContributions.VM;error=this.error=m.prop(),this.filterContributions=function(e){t.filter(e).then(null,function(t){error(t.message)})}},view:function(t){return[m.component(adminApp.AdminContributionsFilter,{onFilter:t.filterContributions}),m(".w-section.section",[m(".w-container",[m(".w-row.u-marginbottom-20",[m(".w-col.w-col-9",[m(".fontsize-base",[m("span.fontweight-semibold",t.vm.total())," apoios encontrados"])])]),t.error()?m(".card.card-error.u-radius.fontweight-bold",t.error()):m.component(adminApp.AdminContributionsList,{contributions:t.vm.collection})])]),m(".w-section.section",[m(".w-container",[m(".w-row",[m(".w-col.w-col-5"),m(".w-col.w-col-2",[t.vm.isLoading()?m("img[alt='Loader'][src='/assets/catarse_bootstrap/loader-eff2ad1eeb09a19c9afb5b143e1dd62b.gif']"):m("button#load-more.btn.btn-medium.btn-terciary",{onclick:t.vm.nextPage},"Carregar mais")]),m(".w-col.w-col-5")])])])]}},adminApp.AdminContributionsFilter={controller:function(t){var e=this.vm=adminApp.AdminContributionsFilter.VM,n=this.filter=function(){return t.onFilter(e.parameters()),!1};this.displayFilters=adminApp.ToggleDiv.toggler(),setTimeout(function(){n()})},view:function(t){return m("#admin-contributions-filter.w-section.page-header",[m(".w-container",[m(".fontsize-larger.u-text-center.u-marginbottom-30","Apoios"),m(".w-form",[m("form[data-name='Email Form'][id='email-form'][name='email-form']",{onsubmit:t.filter},[m(".w-row.u-marginbottom-20",[m(".w-col.w-col-10",[m("input.w-input.text-field.positive.medium[id='field'][name='field'][placeholder='Busque por projeto, email, Ids do usu\xe1rio e do apoio...'][type='text']",{onchange:m.withAttr("value",t.vm.full_text_index),value:t.vm.full_text_index()}),m("a.fontsize-smallest.link-hidden-light[data-ix='admin-filter'][href='#']",{onclick:t.displayFilters.toggle},"Filtros avan\xe7ados \xa0>")]),m(".w-col.w-col-2",[m("input#filter-btn.btn.btn-large.u-marginbottom-10[type='submit'][href='#'][value='Buscar']")])]),m.component(adminApp.ToggleDiv,{display:t.displayFilters,content:m("#advanced-search.w-row.admin-filters",[m(".w-col.w-col-3.w-col-small-6",[m("label.fontsize-smaller[for='field-3']","Com o estado"),m("select.w-select.text-field.positive[id='field-3'][name='field-3']",{onchange:m.withAttr("value",t.vm.state),value:t.vm.state()},[m("option[value='']","Qualquer um"),m("option[value='pending']","pending"),m("option[value='refused']","refused"),m("option[value='paid']","paid"),m("option[value='pending_refund']","pending_refund"),m("option[value='refunded']","refunded"),m("option[value='chargeback']","chargeback"),m("option[value='deleted']","deleted")])]),m(".w-col.w-col-3.w-col-small-6",[m("label.fontsize-smaller[for='field-8']","Gateway"),m("select.w-select.text-field.positive[data-name='Field 8'][id='field-8'][name='field-8']",{onchange:m.withAttr("value",t.vm.gateway),value:t.vm.gateway()},[m("option[value='']","Qualquer um"),m("option[value='Pagarme']","Pagarme"),m("option[value='MoIP']","MoIP"),m("option[value='PayPal']","PayPal"),m("option[value='Credits']","Cr\xe9ditos")])]),m(".w-col.w-col-3.w-col-small-6",[m("label.fontsize-smaller[for='field-6']","Valores entre"),m(".w-row",[m(".w-col.w-col-5.w-col-small-5.w-col-tiny-5",[m("input.w-input.text-field.positive[data-name='Field 5'][id='field-5'][name='field-5'][type='text']",{onchange:m.withAttr("value",t.vm.value.gte),value:t.vm.value.gte()})]),m(".w-col.w-col-2.w-col-small-2.w-col-tiny-2",[m(".fontsize-smaller.u-text-center.lineheight-looser","e")]),m(".w-col.w-col-5.w-col-small-5.w-col-tiny-5",[m("input.w-input.text-field.positive[data-name='Field 5'][id='field-5'][name='field-5'][type='text']",{onchange:m.withAttr("value",t.vm.value.lte),value:t.vm.value.lte()})])])]),m(".w-col.w-col-3.w-col-small-6",[m("label.fontsize-smaller[for='field-7']","Per\xedodo do apoio"),m(".w-row",[m(".w-col.w-col-5.w-col-small-5.w-col-tiny-5",[m("input.w-input.text-field.positive[data-name='Field 5'][id='field-5'][name='field-5'][type='text']",{onchange:m.withAttr("value",t.vm.created_at.gte),value:t.vm.created_at.gte()})]),m(".w-col.w-col-2.w-col-small-2.w-col-tiny-2",[m(".fontsize-smaller.u-text-center.lineheight-looser","e")]),m(".w-col.w-col-5.w-col-small-5.w-col-tiny-5",[m("input.w-input.text-field.positive[data-name='Field 5'][id='field-5'][name='field-5'][type='text']",{onchange:m.withAttr("value",t.vm.created_at.lte),value:t.vm.created_at.lte()})])])])])})])])])])}};var vm=adminApp.AdminContributionsFilter.VM=m.postgrest.filtersVM({full_text_index:"@@",state:"eq",gateway:"eq",value:"between",created_at:"between"});vm.state(""),vm.gateway("Pagarme"),vm.created_at.lte.toFilter=function(){return momentFromString(this()).endOf("day").format()},vm.created_at.gte.toFilter=function(){return momentFromString(this()).format()},adminApp.AdminContributionsList={view:function(t,e){return m("#admin-contributions-list.w-container",[e.contributions().map(function(t){return m.component(adminApp.AdminContributionsListDetail,{contribution:t,key:t})})])}},adminApp.AdminContributionsListDetail={controller:function(t){this.contribution=t.contribution,this.contribution.user_profile_img=this.contribution.user_profile_img||"/assets/catarse_bootstrap/user.jpg",this.CSSsuccess=".text-success",this.CSSwaiting=".text-waiting",this.CSSerror=".text-error",this.paymentDetails=function(){if(this.contribution.gateway=this.contribution.gateway.toLowerCase(),!this.contribution.gateway_data)return!1;switch(this.contribution.gateway){case"moip":return this.contribution.card_first_digits=this.contribution.gateway_data.cartao_bin,this.contribution.card_last_digits=this.contribution.gateway_data.cartao_final,this.contribution.card_brand=this.contribution.gateway_data.cartao_bandeira,this.contribution.installments=this.contribution.gateway_data.parcelas,!0;case"pagarme":return this.contribution.card_first_digits=this.contribution.gateway_data.card_first_digits,this.contribution.card_last_digits=this.contribution.gateway_data.card_last_digits,this.contribution.card_brand=this.contribution.gateway_data.card_brand,this.contribution.installments=this.contribution.gateway_data.installments,!0;default:return!1}},this.stateClass=function(){switch(this.contribution.state){case"paid":return this.CSSsuccess;case"refunded":return this.CSSsuccess;case"pending":return this.CSSwaiting;default:return this.CSSerror}},this.paymentMethodClass=function(){switch(this.contribution.payment_method){case"BoletoBancario":return".fa-barcode";case"CartaoDeCredito":return".fa-credit-card";default:return".fa-question"}},this.displayDetailBox=adminApp.ToggleDiv.toggler()},view:function(t){var e=t.contribution;return m(".w-clearfix.card.u-radius.u-marginbottom-20.results-admin-contributions",[m(".w-row",[m(".w-col.w-col-4",[m(".w-row",[m(".w-col.w-col-3.w-col-small-3.u-marginbottom-10",[m("img.user-avatar[src='"+e.user_profile_img+"']")]),m(".w-col.w-col-9.w-col-small-9",[m(".fontweight-semibold.fontsize-smaller.lineheight-tighter.u-marginbottom-10",[m("a.alt-link[target='_blank'][href='/users/"+e.user_id+"']",e.user_name)]),m(".fontsize-smallest","Usu\xe1rio: "+e.user_id),m(".fontsize-smallest.fontcolor-secondary","Catarse: "+e.email),m(".fontsize-smallest.fontcolor-secondary","Gateway: "+e.payer_email)])])]),m(".w-col.w-col-4",[m(".w-row",[m(".w-col.w-col-3.w-col-small-3.u-marginbottom-10",[m("img.thumb-project.u-radius[src="+e.project_img+"][width=50]")]),m(".w-col.w-col-9.w-col-small-9",[m(".fontweight-semibold.fontsize-smaller.lineheight-tighter.u-marginbottom-10",[m("a.alt-link[target='_blank'][href='/"+e.permalink+"']",e.project_name)]),m(".fontsize-smallest.fontweight-semibold",e.project_state),m(".fontsize-smallest.fontcolor-secondary",momentify(e.project_online_date)+" a "+momentify(e.project_expires_at))])])]),m(".w-col.w-col-2",[m(".fontweight-semibold.lineheight-tighter.u-marginbottom-10.fontsize-small","R$"+e.value),m(".fontsize-smallest.fontcolor-secondary",momentify(e.paid_at,"DD/MM/YYYY hh:mm[h]")),m(".fontsize-smallest",["ID do Gateway: ",m("a.alt-link[target='_blank'][href='https://dashboard.pagar.me/#/transactions/"+e.gateway_id+"']",e.gateway_id)])]),m(".w-col.w-col-2",[m(".fontsize-smallest.lineheight-looser.fontweight-semibold",[m("span.fa.fa-circle"+t.stateClass()),"\xa0"+e.state]),m(".fontsize-smallest.fontweight-semibold",[m("span.fa"+t.paymentMethodClass())," ",m("a.link-hidden[href='#']",e.payment_method)]),t.paymentDetails()?m.component(adminApp.AdminContributionsListPaymentDetail,{contribution:e}):""])]),m("a.w-inline-block.arrow-admin.fa.fa-chevron-down.fontcolor-secondary[data-ix='show-admin-cont-result'][href='javascript:void(0);']",{onclick:t.displayDetailBox.toggle}),m.component(adminApp.ToggleDiv,{display:t.displayDetailBox,content:m.component(adminApp.AdminContributionsListPaymentDetailBox,{contribution:e})})])}},adminApp.AdminContributionsListPaymentDetail={view:function(t,e){var n=e.contribution;return m(".fontsize-smallest.fontcolor-secondary.lineheight-tight",[function(){switch(n.payment_method.toLowerCase()){case"boletobancario":return m("span#boleto-detail","");case"cartaodecredito":return m("#creditcard-detail.fontsize-smallest.fontcolor-secondary.lineheight-tight",[n.card_first_digits+"******"+n.card_last_digits,m("br"),n.card_brand+" "+n.installments+"x"])}}()])}},adminApp.AdminContributionsListPaymentDetailBox={controller:function(){this.displayRequestRefundDropDown=adminApp.ToggleDiv.toggler(),this.displayRefundDropDown=adminApp.ToggleDiv.toggler(),this.displayTransferContributionDropDown=adminApp.ToggleDiv.toggler(),this.displayChangeRewardDropDown=adminApp.ToggleDiv.toggler(),this.displatAnonDropDown=adminApp.ToggleDiv.toggler()},view:function(t,e){var n=e.contribution;return m("#admin-contribution-detail-box",[m(".divider.u-margintop-20.u-marginbottom-20"),m(".w-row.u-marginbottom-30.w-hidden",[m(".w-col.w-col-2",[m("button.btn.btn-small.btn-terciary",{onclick:t.displayRequestRefundDropDown.toggle},"Pedir reembolso"),m.component(adminApp.ToggleDiv,{display:t.displayRequestRefundDropDown,content:m(".dropdown-list.card.u-radius.dropdown-list-medium.zindex-10[data-ix='display-none-on-load'][id='transfer']",[m(".fontsize-smaller.fontweight-semibold.u-text-center.u-marginbottom-20","Quer efetuar o reembolso?"),m("a.btn.btn-small[href='#']","Solicitar reembolso")])})]),m(".w-col.w-col-2",[m("button.btn.btn-small.btn-terciary",{onclick:t.displayRefundDropDown.toggle},"Estornar"),m.component(adminApp.ToggleDiv,{display:t.displayRefundDropDown,content:m(".dropdown-list.card.u-radius.dropdown-list-medium.zindex-10",[m(".fontsize-smaller.fontweight-semibold.u-text-center.u-marginbottom-20","Quer efetuar o estorno?"),m("a.btn.btn-small[href='#']","Solicitar estorno")])})]),m(".w-col.w-col-2",[m("button.btn.btn-small.btn-terciary.btn-desactivated[href='#']","2a via")]),m(".w-col.w-col-2",[m("button.btn.btn-small.btn-terciary",{onclick:t.displayTransferContributionDropDown.toggle},"Transferir apoio"),m.component(adminApp.ToggleDiv,{display:t.displayTransferContributionDropDown,content:m(".dropdown-list.card.u-radius.dropdown-list-medium.zindex-10",[m(".w-form",[m("form[data-name='Email Form 4'][id='email-form-4'][name='email-form-4']",[m("label[for='name-2']","Id do novo apoiador:"),m("input.w-input.text-field[data-name='Name 2'][id='name-2'][name='name'][placeholder='ex: 129908'][type='text']"),m("input.w-button.btn.btn-small[data-wait='Please wait...'][type='submit'][value='Transferir']")])])])})]),m(".w-col.w-col-2",[m("button.btn.btn-small.btn-terciary",{onclick:t.displayChangeRewardDropDown.toggle},"Trocar recompensa"),m.component(adminApp.ToggleDiv,{display:t.displayChangeRewardDropDown,content:m(".dropdown-list.card.u-radius.dropdown-list-medium.zindex-10[data-ix='display-none-on-load'][id='transfer']",{style:{display:" none"}},[m(".w-form",[m("form[data-name='Email Form 4'][id='email-form-4'][name='email-form-4']",[m(".w-radio",[m("input.w-radio-input[data-name='Radio'][id='radio'][name='radio'][type='radio'][value='Radio']"),m("label.w-form-label[for='radio']","R$ 10")]),m(".w-radio",[m("input.w-radio-input[data-name='Radio 2'][id='radio'][name='radio-2'][type='radio'][value='Radio']"),m("label.w-form-label[for='radio']","R$ 10")]),m(".w-radio",[m("input.w-radio-input[data-name='Radio 2'][id='radio'][name='radio-2'][type='radio'][value='Radio']"),m("label.w-form-label[for='radio']","R$ 10")]),m(".w-radio",[m("input.w-radio-input[data-name='Radio 2'][id='radio'][name='radio-2'][type='radio'][value='Radio']"),m("label.w-form-label[for='radio']","R$ 10")]),m(".w-radio",[m("input.w-radio-input[data-name='Radio 2'][id='radio'][name='radio-2'][type='radio'][value='Radio']"),m("label.w-form-label[for='radio']","R$ 10")])])])])})]),m(".w-col.w-col-2",[m("button.btn.btn-small.btn-terciary",{onclick:t.displatAnonDropDown.toggle},"Anonimato"),m.component(adminApp.ToggleDiv,{display:t.displatAnonDropDown,content:m(".dropdown-list.card.u-radius.dropdown-list-medium.zindex-10",[m(".w-form",[m("form[data-name='Email Form 4'][id='email-form-4'][name='email-form-4']",[m(".w-radio",[m("input.w-radio-input[data-name='Radio'][id='radio'][name='radio'][type='radio'][value='Radio']"),m("label.w-form-label[for='radio']","An\xf4nimo")]),m(".w-radio",[m("input.w-radio-input[data-name='Radio 2'][id='radio'][name='radio-2'][type='radio'][value='Radio']"),m("label.w-form-label[for='radio']","P\xfablico")])])])])})])]),m(".w-row.card.card-terciary.u-radius",[m.component(adminApp.AdminContributionsListPaymentDetailBoxDetailed,{contribution:n}),m.component(adminApp.AdminContributionsListPaymentDetailBoxHistory,{contribution:n}),m(".w-col.w-col-4")])])}},adminApp.AdminContributionsListPaymentDetailBoxDetailed={view:function(t,e){var n=e.contribution;return m(".w-col.w-col-4",[m(".fontweight-semibold.fontsize-smaller.lineheight-tighter.u-marginbottom-20","Detalhes do apoio"),m(".fontsize-smallest.lineheight-looser",["Valor: R$"+formatNumber(n.value,2,3),m("br"),"Taxa: R$"+formatNumber(n.gateway_fee,2,3),m("br"),"Recompensa: "+formatNumber(n.reward_minimum_value,2,3),m("br"),"An\xf4nimo: "+(n.anonymous?"Sim":"N\xe3o"),m("br"),"Id pagamento: "+n.gateway_id,m("br"),"Apoio: "+n.contribution_id,m("br"),"Chave:\xa0\n",m("br"),n.key,m("br"),"Meio: "+n.gateway,m("br"),"Operadora: "+(n.gateway_data&&n.gateway_data.acquirer_name),m("br"),function(){return n.is_second_slip?[m("a.link-hidden[href='#']","Boleto banc\xe1rio")," ",m("span.badge","2a via")]:void 0}()])])}},adminApp.AdminContributionsListPaymentDetailBoxHistory={controller:function(t){var e=t.contribution,n=_.reduce([{date:e.paid_at,name:"Apoio confirmado"},{date:e.pending_refund_at,name:"Reembolso solicitado"},{date:e.refunded_at,name:"Estorno realizado"},{date:e.created_at,name:"Apoio criado"},{date:e.refused_at,name:"Apoio cancelado"}],function(t,e){return null!=e.date&&void 0!=e.date?(e.originalDate=e.date,e.date=momentify(e.date,"DD/MM/YYYY, HH:mm"),t.concat(e)):t},[]);this.orderedEvents=_.sortBy(n,"originalDate")},view:function(t,e){return e.contribution,m(".w-col.w-col-4",[m(".fontweight-semibold.fontsize-smaller.lineheight-tighter.u-marginbottom-20","Hist\xf3rico da transa\xe7\xe3o"),t.orderedEvents.map(function(t){return m(".w-row.fontsize-smallest.lineheight-looser.date-event",[m(".w-col.w-col-6",[m(".fontcolor-secondary",t.date)]),m(".w-col.w-col-6",[m("div",t.name)])])})])}},adminApp.AdminContributions.VM=m.postgrest.paginationVM(adminApp.models.ContributionDetail.getPageWithToken),adminApp.ToggleDiv={toggler:function(){return toggleProp("none","block")},controller:function(t){this.vm={display:t.display}},view:function(t,e){return m(".toggleDiv",{style:{transition:"all .1s ease-out",overflow:"hidden",display:t.vm.display()}},[e.content])}};var adminRoot=document.getElementById("new-admin");m.module(adminRoot,adminApp.AdminContributions),window.toggleMenu=function(){var t=document.getElementById("user-menu-dropdown");t.classList.toggle("w--open")};